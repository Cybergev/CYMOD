form_scandinavia_category = {
	
	form_scandinavia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Norway
			custom_trigger_tooltip = {
				tooltip = form_country_norway_required_states_tt
				controls_state = 110
				controls_state = 142
				controls_state = 143
				controls_state = 144
			}
			# Sweden
			custom_trigger_tooltip = {
				tooltip = form_country_sweden_required_states_tt
				controls_state = 124
				controls_state = 138
				controls_state = 139
				controls_state = 140
				controls_state = 141
				controls_state = 38
				controls_state = 666
			}
			# Denmark / European Mainland
			custom_trigger_tooltip = {
				tooltip = form_scandinavia_denmark_required_states_tt
				controls_state = 37
				controls_state = 99
			}
		}

		visible = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
			}
			NOT = { has_global_flag = form_scandinavia_flag }
		}

		complete_effect = {
			set_cosmetic_tag = SCA_UNIFIED
			# Norway
			custom_effect_tooltip = form_country_norway_coring_states_tt
			hidden_effect = {
				110 = { add_core_of = ROOT }
				142 = { add_core_of = ROOT }
				143 = { add_core_of = ROOT }
				144 = { add_core_of = ROOT }
			}
			# Sweden
			custom_effect_tooltip = form_country_sweden_coring_states_tt
			hidden_effect = {
				124 = { add_core_of = ROOT }
				138 = { add_core_of = ROOT }
				139 = { add_core_of = ROOT }
				140 = { add_core_of = ROOT }
				141 = { add_core_of = ROOT }
				38 = { add_core_of = ROOT }
				666 = { add_core_of = ROOT }
			}
			# Denmark / European Mainland
			custom_effect_tooltip = form_scandinavia_denmark_coring_states_tt
			hidden_effect = {
				37 = { add_core_of = ROOT }
				99 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.53 hours = 6 }
				set_global_flag = form_scandinavia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_nordic_league_category = {

	form_nordic_league = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
				original_tag = FIN
				original_tag = ICE
				original_tag = EST
			}
			OR = {
				has_dlc = "Waking the Tiger"
				AND = {
					has_dlc = "No Step Back"
					original_tag = EST
				}
			}
		}

		available = {
			is_subject = no
			if = {
				limit = {
					NOT = { original_tag = EST }
				}
				# Norway
				custom_trigger_tooltip = {
					tooltip = form_country_norway_required_states_tt
					controls_state = 110
					controls_state = 142
					controls_state = 143
					controls_state = 144
				}
				# Sweden
				custom_trigger_tooltip = {
					tooltip = form_country_sweden_required_states_tt
					controls_state = 124
					controls_state = 138
					controls_state = 139
					controls_state = 140
					controls_state = 141
					controls_state = 38
					controls_state = 666
				}
				# Denmark
				custom_trigger_tooltip = {
					tooltip = form_country_denmark_required_states_tt
					controls_state = 37
					controls_state = 99
					controls_state = 100
					controls_state = 101
					controls_state = 337
				}
				# Finland
				custom_trigger_tooltip = {
					tooltip = form_country_finland_required_states_tt
					controls_state = 111
					controls_state = 145
					controls_state = 148
					controls_state = 149
					controls_state = 150
				}
			}
			else = {
				custom_trigger_tooltip = {
					tooltip = control_all_nordic_states_tt
					all_state = {
						OR = {
							controls_or_subject_of = yes
							controller = {
								original_tag = FIN
								is_in_faction_with = ROOT
							}
							NOT = {
								AND = {
									is_core_of = NOR
									is_core_of = DEN
									is_core_of = SWE
								}
							}
						}
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = NOR
				original_tag = DEN
				original_tag = SWE
				original_tag = FIN
				AND = {
					original_tag = EST
					has_completed_focus = EST_form_scandinavia
				}
			}
			NOT = { has_global_flag = form_nordic_league_flag }
		}

		complete_effect = {
			set_cosmetic_tag = NDC_UNIFIED
			# Norway
			custom_effect_tooltip = form_country_norway_coring_states_tt
			hidden_effect = {
				110 = { add_core_of = ROOT }
				142 = { add_core_of = ROOT }
				143 = { add_core_of = ROOT }
				144 = { add_core_of = ROOT }
			}

			if = {
				limit = {
					NOR = {
						is_subject_of = ROOT
					}
				}
				
				NOR = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = NOR
					transfer_troops = yes
				}
			}
			# Sweden
			custom_effect_tooltip = form_country_sweden_coring_states_tt
			hidden_effect = {
				124 = { add_core_of = ROOT }
				138 = { add_core_of = ROOT }
				139 = { add_core_of = ROOT }
				140 = { add_core_of = ROOT }
				141 = { add_core_of = ROOT }
				38 = { add_core_of = ROOT }
				666 = { add_core_of = ROOT }

			}

			if = {
				limit = {
					SWE = {
						is_subject_of = ROOT
					}
				}
				
				SWE = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}
				
				annex_country = {
					target = SWE
					transfer_troops = yes
				}
			}
			# Denmark
			custom_effect_tooltip = form_country_denmark_coring_states_tt
			hidden_effect = {
				37 = { add_core_of = ROOT }
				99 = { add_core_of = ROOT }
				100 = { add_core_of = ROOT }
				101 = { add_core_of = ROOT }
				337 = { add_core_of = ROOT }
			}

			if = {
				limit = {
					DEN = {
						is_subject_of = ROOT
					}
				}
				
				DEN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}				
				
				annex_country = {
					target = DEN
					transfer_troops = yes
				}
			}
			
			# Finland
			custom_effect_tooltip = form_country_finland_coring_states_tt
			hidden_effect = {
				111 = { add_core_of = ROOT }
				145 = { add_core_of = ROOT }
				148 = { add_core_of = ROOT }
				149 = { add_core_of = ROOT }
				150 = { add_core_of = ROOT }
			}
			
			if = {
				limit = {
					FIN = {
						is_subject_of = ROOT
						OR = {
							is_subject_of = ROOT
							all_core_state = {
								controller = {
									tag = ROOT
								} 
							}
						}
					}
				}
				
				FIN = {
					every_unit_leader = {
						set_nationality = ROOT
					}
				}

				annex_country = {
					target = FIN
					transfer_troops = yes
				}
			}
			
			hidden_effect = {
				if = {
					limit = { NOT = { original_tag = EST } }
					news_event = { id = wtt_news.54 hours = 6 }
				}
				else = {
					news_event = { id = EST_events.3 hours = 6 }
				}
				set_global_flag = form_nordic_league_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
} 

form_gran_colombia_category = {

	form_gran_colombia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = PAN
				original_tag = ECU
				original_tag = COL
				original_tag = VEN
				original_tag = PRU
				original_tag = CRC
				original_tag = GYA
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			controls_state = 490
			controls_state = 491
			controls_state = 304
			# Ecuador
			custom_trigger_tooltip = {
				tooltip = form_country_ecuador_required_states_tt
				controls_state = 305
				controls_state = 649
			}
			# Colombia
			custom_trigger_tooltip = {
				tooltip = form_country_colombia_required_states_tt
				controls_state = 486
				controls_state = 306
				controls_state = 493
			}
			# Venezuela
			custom_trigger_tooltip = {
				tooltip = form_country_venezuela_required_states_tt
				controls_state = 489
				controls_state = 307
				controls_state = 488
			}
		}

		visible = {
			OR = {
				original_tag = PAN
				original_tag = ECU
				original_tag = COL
				original_tag = VEN
				original_tag = PRU
			}
			NOT = { has_global_flag = form_gran_colombia_flag }
		}

		complete_effect = {
			set_cosmetic_tag = GCO_UNIFIED
			490 = { add_core_of = ROOT }
			491 = { add_core_of = ROOT }
			304 = { add_core_of = ROOT }
			685 = { add_core_of = ROOT }
			695 = { add_core_of = ROOT }
			687 = { add_core_of = ROOT }
			# Ecuador
			custom_effect_tooltip = form_country_ecuador_coring_states_tt
			hidden_effect = {
				305 = { add_core_of = ROOT }
				649 = { add_core_of = ROOT }
			}	
			# Colombia
			custom_effect_tooltip = form_country_colombia_coring_states_tt
			hidden_effect = {
				486 = { add_core_of = ROOT }
				306 = { add_core_of = ROOT }
				493 = { add_core_of = ROOT }
			}
			# Venezuela
			custom_effect_tooltip = form_country_venezuela_coring_states_tt
			hidden_effect = {
				489 = { add_core_of = ROOT }
				307 = { add_core_of = ROOT }
				488 = { add_core_of = ROOT }
			}

			hidden_effect = {
				news_event = { id = wtt_news.55 hours = 6 }
				set_global_flag = form_gran_colombia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_austria_hungary_category = {

	form_austria_hungary = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = AUS
				original_tag = CZE
				original_tag = CRO
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			controls_state = 102
			controls_state = 853
			controls_state = 103
			controls_state = 104
			controls_state = 804
			controls_state = 109
			controls_state = 45
			controls_state = 83
			controls_state = 76
			controls_state = 84
			controls_state = 764
			controls_state = 82
			# Austria
			custom_trigger_tooltip = {
				tooltip = form_country_austria_required_states_tt
				controls_state = 848
				controls_state = 153
				controls_state = 152
				controls_state = 4
			}
			# Czechoslovakia
			custom_trigger_tooltip = {
				tooltip = form_country_czechoslovakia_required_states_tt
				controls_state = 69
				controls_state = 9
				controls_state = 75
				controls_state = 74
				controls_state = 72
				controls_state = 70
				controls_state = 664
				controls_state = 71
				controls_state = 73
			}
			# Hungary
			custom_trigger_tooltip = {
				tooltip = form_country_hungary_required_states_tt
				controls_state = 155
				controls_state = 43
				controls_state = 154
			}
		}

		visible = {
			OR = {
				original_tag = AUS
				original_tag = CZE
				original_tag = CRO
			}
			NOT = { has_global_flag = form_austria_hungary_flag }
		}

		complete_effect = {
			set_cosmetic_tag = HUN_EMPIRE
			if = {
				limit = {
					NOT = { tag = AUS }
				}
				AUS = { set_cosmetic_tag = AUS_NOT_WHITE }
			}
			102 = { add_core_of = ROOT }
			853 = { add_core_of = ROOT }
			103 = { add_core_of = ROOT }
			104 = { add_core_of = ROOT }
			804 = { add_core_of = ROOT }
			109 = { add_core_of = ROOT }
			45 = { add_core_of = ROOT }
			83 = { add_core_of = ROOT }
			76 = { add_core_of = ROOT }
			84 = { add_core_of = ROOT }
			39 = { add_core_of = ROOT }
			163 = { add_core_of = ROOT }
			736 = { add_core_of = ROOT }
			852 = { add_core_of = ROOT }
			850 = { add_core_of = ROOT }
			764 = { add_core_of = ROOT }
			82 = { add_core_of = ROOT }
			# Austria
			custom_effect_tooltip = form_country_austria_coring_states_tt
			hidden_effect = {
				848 = { add_core_of = ROOT }
				153 = { add_core_of = ROOT }
				152 = { add_core_of = ROOT }
				4 = { add_core_of = ROOT }
			}
			# Czechoslovakia
			custom_effect_tooltip = form_country_czechoslovakia_coring_states_tt
			hidden_effect = {
				69 = { add_core_of = ROOT }
				9 = { add_core_of = ROOT }
				75 = { add_core_of = ROOT }
				74 = { add_core_of = ROOT }
				72 = { add_core_of = ROOT }
				70 = { add_core_of = ROOT }
				664 = { add_core_of = ROOT }
				71 = { add_core_of = ROOT }
				73 = { add_core_of = ROOT }
			}
			# Hungary
			custom_effect_tooltip = form_country_hungary_coring_states_tt
			hidden_effect = {
				155 = { add_core_of = ROOT }
				43 = { add_core_of = ROOT }
				154 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.56 hours = 6 }
				set_global_flag = form_austria_hungary_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	reintegrate_austro_hungarian_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = HUN
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			controls_state = 155
			controls_state = 43
			controls_state = 154
			controls_state = 102
			controls_state = 853
			controls_state = 103
			controls_state = 104
			controls_state = 804
			controls_state = 109
			controls_state = 45
			controls_state = 83
			controls_state = 76
			controls_state = 84
			controls_state = 764
			controls_state = 82
		}

		visible = {
			tag = HUN
			has_completed_focus = HUN_proclaim_the_restoration_of_austria_hungary
			NOT = { has_global_flag = reintegrate_the_empire_flag }
		}

		complete_effect = {
			155 = { add_core_of = ROOT }
			43 = { add_core_of = ROOT }
			154 = { add_core_of = ROOT }
			102 = { add_core_of = ROOT }
			853 = { add_core_of = ROOT }
			103 = { add_core_of = ROOT }
			104 = { add_core_of = ROOT }
			804 = { add_core_of = ROOT }
			109 = { add_core_of = ROOT }
			45 = { add_core_of = ROOT }
			83 = { add_core_of = ROOT }
			76 = { add_core_of = ROOT }
			84 = { add_core_of = ROOT }
			39 = { add_core_of = ROOT }
			163 = { add_core_of = ROOT }
			736 = { add_core_of = ROOT }
			852 = { add_core_of = ROOT }
			850 = { add_core_of = ROOT }
			764 = { add_core_of = ROOT }
			82 = { add_core_of = ROOT }
			set_global_flag = reintegrate_the_empire_flag
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_baltic_federation_category = {

	form_baltic_federation = {

		icon = generic_form_nation

		available = {
			is_subject = no
			# Estonia
			EST = {
				all_core_state = {
					is_controlled_by = ROOT
					is_core_or_compliance_60 = YES
					has_active_resistance = NO
				}
			}
			# Latvia
			LAT = {
				all_core_state = {
					is_controlled_by = ROOT
					is_core_or_compliance_60 = YES
					has_active_resistance = NO
				}
			}
			# Lithuania
			LIT = {
				all_core_state = {
					is_controlled_by = ROOT
					is_core_or_compliance_60 = YES
					has_active_resistance = NO
				}
			}
		}

		visible = {
			OR = {
				original_tag = EST
				original_tag = LAT
				original_tag = LIT
				AND = {
					original_tag = POL
					has_global_flag = form_commonwealth_flag
				}
			}
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "No Step Back"
			}
			NOT = { has_global_flag = form_baltic_federation_flag }
			NOT = { has_cosmetic_tag = LIVONIA }
			NOT = { has_completed_focus = LIT_claim_livonia_monarchy }
			NOT = { has_completed_focus = LIT_POL_union }
		}

		complete_effect = {
			EST = {
				every_character = {
					set_nationality = ROOT
				}
				every_core_state = {
					add_core_of = LAT
					add_core_of = LIT
					add_core_of = ROOT
				}
			}
			LAT = {
				every_character = {
					set_nationality = ROOT
				}
				every_core_state = {
					add_core_of = EST
					add_core_of = LIT
					add_core_of = ROOT
				}
			}
			LIT = {
				every_character = {
					set_nationality = ROOT
				}
				every_core_state = {
					add_core_of = EST
					add_core_of = LAT
					add_core_of = ROOT
				}
			}
			set_cosmetic_tag = BAL_UNIFIED
			hidden_effect = {
				news_event = { id = wtt_news.60 hours = 6 }
				set_global_flag = form_baltic_federation_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_commonwealth_category = {

	form_commonwealth = {

		icon = generic_form_nation

		available = {
			is_subject = no
			# Lithuania
			LIT = {
				all_core_state = {
					is_controlled_by = ROOT
					is_core_or_compliance_60 = YES
					has_active_resistance = NO
				}
			}
			# Poland
			POL = {
				all_core_state = {
					is_controlled_by = ROOT
					is_core_or_compliance_60 = YES
					has_active_resistance = NO
				}
			}
		}

		visible = {
			OR = {
				original_tag = POL
				original_tag = LIT
				OR = {
					AND = {
						original_tag = EST
						has_global_flag = form_baltic_federation_flag
					}
					AND = {
						original_tag = LAT
						has_global_flag = form_baltic_federation_flag
					}
				}
			}
			NOT = { has_global_flag = form_commonwealth_flag }
		}

		complete_effect = {
			LIT = {
				every_character = {
					set_nationality = ROOT
				}
				every_core_state = {
					add_core_of = POL
					add_core_of = ROOT
				}
			}
			# Lithuania
			POL = {
				every_character = {
					set_nationality = ROOT
				}
				every_core_state = {
					add_core_of = LIT
					add_core_of = ROOT
				}
			}
			IF = {
				limit = {
					NOT = {
						has_cosmetic_tag = BAL_UNIFIED
					}
				}
				if = {
					limit = { has_cosmetic_tag = POL_KINGDOM_RUS }
					set_cosmetic_tag = PLC_UNIFIED_RUS
				}
				else = {
					set_cosmetic_tag = PLC_UNIFIED
				}
			}
			set_global_flag = form_commonwealth_flag
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_united_netherlands_category = {

	form_united_netherlands = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = HOL
				original_tag = BEL
				original_tag = LUX
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			controls_state = 8
			# Netherlands
			custom_trigger_tooltip = {
				tooltip = form_eu_netherlands_required_states_tt
				controls_state = 7
				controls_state = 35
				controls_state = 36
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				controls_state = 6
				controls_state = 34
			}
		}

		visible = {
			OR = {
				original_tag = HOL
				original_tag = BEL
				original_tag = LUX
			}
			NOT = { has_global_flag = form_united_netherlands_flag }
			NOT = { has_global_flag = HOL_benelux_formed }
		}

		complete_effect = {
			set_cosmetic_tag = UNL_UNIFIED
			8 = { add_core_of = ROOT }
			# Netherlands
			custom_effect_tooltip = form_eu_netherlands_coring_states_tt
			hidden_effect = {
				7 = { add_core_of = ROOT }
				35 = { add_core_of = ROOT }
				36 = { add_core_of = ROOT }
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
				6 = { add_core_of = ROOT }
				34 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.58 hours = 6 }
				set_global_flag = form_united_netherlands_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_united_central_america_category = {

	form_united_central_america = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = GUA
				original_tag = ELS
				original_tag = HON
				original_tag = NIC
				original_tag = COS
				original_tag = BLZ
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			controls_state = 313
			controls_state = 314
			controls_state = 312
			controls_state = 317
			controls_state = 316
		}

		visible = {
			OR = {
				original_tag = GUA
				original_tag = ELS
				original_tag = HON
				original_tag = NIC
				original_tag = COS
			}
			NOT = { has_global_flag = form_united_central_america_flag }
		}

		complete_effect = {
			set_cosmetic_tag = USC_UNIFIED
			313 = { add_core_of = ROOT }
			314 = { add_core_of = ROOT }
			312 = { add_core_of = ROOT }
			317 = { add_core_of = ROOT }
			316 = { add_core_of = ROOT }
			311 = { add_core_of = ROOT }
			hidden_effect = {
				news_event = { id = wtt_news.59 hours = 6 }
				set_global_flag = form_united_central_america_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_ottoman_empire_category = {

	form_ottoman_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Waking the Tiger"
			NOT = { has_dlc = "Battle for the Bosporus" }
		}

		available = {
			is_subject = no
			controls_state = 679
			controls_state = 293
			TUR = {
			all_core_state = { is_controlled_by = ROOT }
			}
			CYP = {
			all_core_state = { is_controlled_by = ROOT }
			}
			SYR = {
			all_core_state = { is_controlled_by = ROOT }
			}
			LEB = {
			all_core_state = { is_controlled_by = ROOT }
			}
			PAL = {
			all_core_state = { is_controlled_by = ROOT }
			}
			JOR = {
			all_core_state = { is_controlled_by = ROOT }
			}
			IRQ = {
			all_core_state = { is_controlled_by = ROOT }
			}
			KUW = {
			all_core_state = { is_controlled_by = ROOT }
			}
			EGY = {
			all_core_state = { is_controlled_by = ROOT }
			}
			LBA = {
			all_core_state = { is_controlled_by = ROOT }
			}
			TUN = {
			all_core_state = { is_controlled_by = ROOT }
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = form_ottoman_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = OTT_UNIFIED
			679 = { add_core_of = ROOT }
			293 = { add_core_of = ROOT }
			CYP = {
			every_core_state = { add_core_of = ROOT }
			}
			SYR = {
			every_core_state = { add_core_of = ROOT }
			}
			LEB = {
			every_core_state = { add_core_of = ROOT }
			}
			PAL = {
			every_core_state = { add_core_of = ROOT }
			}
			JOR = {
			every_core_state = { add_core_of = ROOT }
			}
			IRQ = {
			every_core_state = { add_core_of = ROOT }
			}
			KUW = {
			every_core_state = { add_core_of = ROOT }
			}
			EGY = {
			every_core_state = { add_core_of = ROOT }
			}
			LBA = {
			every_core_state = { add_core_of = ROOT }
			}
			TUN = {
			every_core_state = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.61 hours = 6 }
				set_global_flag = form_ottoman_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_reform_the_eyalet_of_rumelia = { #Greece + Albania + Bulgaria + South Yugoslavia

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			#Greece
			custom_trigger_tooltip = {
				tooltip = form_rumelia_greece_required_states_tt
				controls_state = 47
				controls_state = 185
				controls_state = 731
				controls_state = 184
				controls_state = 186
			}
			#Bulgaria
			custom_trigger_tooltip = {
				tooltip = form_rumelia_bulgaria_required_states_tt
				controls_state = 48
				controls_state = 801
				controls_state = 212
				controls_state = 211
			}
			#Yugoslavia 
			custom_trigger_tooltip = {
				tooltip = form_rumelia_yugoslavia_required_states_tt
				controls_state = 106 
				controls_state = 803
				controls_state = 802
				controls_state = 108 
				controls_state = 105 
				controls_state = 107
			}
			#Albania
			controls_state = 44
			controls_state = 805
			custom_trigger_tooltip = {
				tooltip = form_rumelia_albania_required_states_tt
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_balkans_flag }
			has_completed_focus = TUR_reclaim_macedonia
		}

		complete_effect = {
			# Greece
			custom_effect_tooltip = form_rumelia_greece_coring_states_tt
			hidden_effect = {
				47 = { add_core_of = ROOT }
				185 = { add_core_of = ROOT }
				731 = { add_core_of = ROOT }
				184 = { add_core_of = ROOT }
				186 = { add_core_of = ROOT }
			}
			# Bulgaria
			custom_effect_tooltip = form_rumelia_bulgaria_coring_states_tt
			hidden_effect = {
				48 = { add_core_of = ROOT }
				801 = { add_core_of = ROOT }
				212 = { add_core_of = ROOT }
				211 = { add_core_of = ROOT }
			}
			# Yugoslavia
			custom_effect_tooltip = form_rumelia_yugoslavia_coring_states_tt
			hidden_effect = {
				106 = { add_core_of = ROOT }
				803 = { add_core_of = ROOT }
				802 = { add_core_of = ROOT }
				108 = { add_core_of = ROOT }
				105 = { add_core_of = ROOT }
				107 = { add_core_of = ROOT }
			}
			44 = { add_core_of = ROOT }
			805 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_balkans_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_merge_the_eyalets_of_morea_crete_and_kibris = { #Greece + Cyprus

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			#Greece
			controls_state = 186
			controls_state = 182
			controls_state = 187
			controls_state = 164 #Dodecanese
			controls_state = 183 #Cyprus
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_greece_flag }
			has_completed_focus = TUR_reclaim_macedonia
		}

		complete_effect = {
			186 = { add_core_of = ROOT }
			182 = { add_core_of = ROOT }
			187 = { add_core_of = ROOT }
			164 = { add_core_of = ROOT }
			183 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_greece_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_enlarge_the_vilayet_of_bosnia = { #Bosnia + Croatia

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 104
			controls_state = 804
			controls_state = 103
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_bosnia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			104 = { add_core_of = ROOT }
			804 = { add_core_of = ROOT }
			103 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_bosnia_flag
				163 = { add_core_of = ROOT }
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_the_danube_and_moldova = { #Romania

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 46
			controls_state = 79
			controls_state = 81
			controls_state = 77
			controls_state = 766 
			controls_state = 84 
			controls_state = 76
			controls_state = 83 
			controls_state = 82 
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_romania_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			46 = { add_core_of = ROOT }
			79 = { add_core_of = ROOT }
			81 = { add_core_of = ROOT }
			77 = { add_core_of = ROOT }
			766 = { add_core_of = ROOT }
			84 = { add_core_of = ROOT }
			76 = { add_core_of = ROOT }
			83 = { add_core_of = ROOT }
			82 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_romania_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_halep = { #Syria

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				# Syria
				controls_state = 680
				controls_state = 554
				controls_state = 799
				controls_state = 677
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_syria_flag }
			OR = {
				has_completed_focus = TUR_reclaiming_our_lost_empire
				has_completed_focus = TUR_the_damascus_diktat
			}
		}

		complete_effect = {
			# French Syria
			custom_effect_tooltip = form_persia_france_coring_states_tt 
			hidden_effect = {
				677 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
				799 = { add_core_of = ROOT }
			}
			hidden_effect = {
				set_global_flag = ottoman_syria_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_beirut = { #Lebanon + Levant

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 454
			controls_state = 455
			controls_state = 553
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_levant_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			454 = { add_core_of = ROOT }
			455 = { add_core_of = ROOT }
			553 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_levant_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_baghdad = { #Iraq

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				controls_state = 676
				controls_state = 675
				controls_state = 291
			}
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_mesopotamia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
			}
			hidden_effect = {
				set_global_flag = ottoman_mesopotamia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_extend_the_lasha_eyalet = { #Arabia + Gulf + Oman

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 656
			controls_state = 765
			controls_state = 658
			controls_state = 292
			controls_state = 678
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_arabia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			656 = { add_core_of = ROOT }
			765 = { add_core_of = ROOT }
			658 = { add_core_of = ROOT }
			292 = { add_core_of = ROOT }
			678 = { add_core_of = ROOT }
			294 = { add_core_of = ROOT }
			create_wargoal = { 
				type = annex_everything
				target = OMA
			}
			hidden_effect = {
				set_global_flag = ottoman_arabia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_merge_the_eyalets_of_jeddah_habesh_and_yemen = { #Yemen + Hejaz

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 679
			controls_state = 293
			controls_state = 659
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_yemen_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			679 = { add_core_of = ROOT }
			293 = { add_core_of = ROOT }
			659 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_yemen_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_integrate_the_khedivate_of_egypt = { #Egypt

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 446
			controls_state = 453
			controls_state = 452
			controls_state = 456
			controls_state = 457
			controls_state = 552
			controls_state = 767
			controls_state = 551
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_egypt_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			446 = { add_core_of = ROOT }
			453 = { add_core_of = ROOT }
			452 = { add_core_of = ROOT }
			456 = { add_core_of = ROOT }
			457 = { add_core_of = ROOT }
			552 = { add_core_of = ROOT }
			767 = { add_core_of = ROOT }
			551 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_egypt_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_restore_the_vilayet_of_tripolitania = { #Libya

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 448
			controls_state = 661
			controls_state = 449
			controls_state = 662
			controls_state = 450
			controls_state = 451
			controls_state = 663
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_libya_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			# Italian North Africa
			custom_effect_tooltip = form_ottoman_italy_coring_states_tt
			hidden_effect = {
				448 = { add_core_of = ROOT }
				661 = { add_core_of = ROOT }
				449 = { add_core_of = ROOT }
				662 = { add_core_of = ROOT }
				450 = { add_core_of = ROOT }
				451 = { add_core_of = ROOT }
				663 = { add_core_of = ROOT }
			}
			hidden_effect = {
				set_global_flag = ottoman_libya_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ott_absorb_the_tunis_and_algerian_eyalets = { #Tunisia + Algeria

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			OR = { 
				has_country_leader = {
					character = TUR_abdulmejid_ii
					ruling_only = yes
				}
				has_country_leader = {
					character = TUR_durrushehvar_i
					ruling_only = yes
				}
			}
			controls_state = 458
			controls_state = 665
			controls_state = 459
			controls_state = 460
			controls_state = 513
		}

		visible = {
			original_tag = TUR
			NOT = { has_global_flag = ottoman_tunisia_flag }
			has_completed_focus = TUR_reclaiming_our_lost_empire
		}

		complete_effect = {
			458 = { add_core_of = ROOT }
			665 = { add_core_of = ROOT }
			459 = { add_core_of = ROOT }
			460 = { add_core_of = ROOT }
			513 = { add_core_of = ROOT }
			hidden_effect = {
				set_global_flag = ottoman_tunisia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_european_union_category = {

	form_european_union = {

		icon = generic_form_nation

		available = {
			is_subject = no
			# Netherlands
			HOL = {
				all_core_state = { controls_or_subject_of = yes }
			}
			# Belgium
			BEL = {
				all_core_state = { controls_or_subject_of = yes }
			}
			# Luxemburg
			LUX = {
				all_core_state = { controls_or_subject_of = yes }
			}
			# France
			FRA = {
				all_core_state = { controls_or_subject_of = yes }
			}
			# Italy
			ITA = {
				all_core_state = { controls_or_subject_of = yes }
			}
			# Germany
			GER = {
				all_core_state = { controls_or_subject_of = yes }
			}
		}

		visible = {
			OR = { 
				AND = {
					OR = {
						has_government = democratic
						has_government = communism
					}
					OR = {
						original_tag = BEL
						original_tag = FRA
						original_tag = GER
						original_tag = HOL
						original_tag = ITA
						original_tag = LUX
					}
				}
				AND = {
					original_tag = ENG
					has_completed_focus = ENG_imperial_federation
				}
			}
			NOT = { has_global_flag = form_european_union_flag }
		}

		days_remove = 300
		cost = 300
		
		ai_will_do = {
			factor = 100
			modifier = {
				is_historical_focus_on = yes
				factor = 100
			}
		}

		modifier = {
			political_power_factor = -1
			consumer_goods_factor = 1
		}

		remove_effect = {
			add_country_leader_trait = Uniter_of_Europe
			hidden_effect = {
				every_country = {
					limit = {
						has_war_with = ROOT
					}
					set_country_flag = euro_enemy
				}
				faction_leader = {
					add_to_faction = EUR
				}
			}
			every_possible_country = {
				limit = {
					OR = {
						original_tag = BEL
						original_tag = FRA
						original_tag = GER
						original_tag = HOL
						original_tag = ITA
						original_tag = LUX
						original_tag = ROOT
						AND = {
							OR = {
								all_core_state = {
									is_on_continent = europe
								}
								any_core_state = {
									is_on_continent = europe
								}
							}
							OR = {
								OR = {
									is_subject_of = BEL
									is_subject_of = FRA
									is_subject_of = GER
									is_subject_of = HOL
									is_subject_of = ITA
									is_subject_of = LUX
									is_subject_of = ROOT
								}
								OVERLORD = {
									OR = {
										is_subject_of = BEL
										is_subject_of = FRA
										is_subject_of = GER
										is_subject_of = HOL
										is_subject_of = ITA
										is_subject_of = LUX
										is_subject_of = ROOT
									}
								}
								all_core_state = {
									owner = {
										OR = {
											original_tag = BEL
											original_tag = FRA
											original_tag = GER
											original_tag = HOL
											original_tag = ITA
											original_tag = LUX
											original_tag = ROOT
										}
									}
								}
							}
						}
					}
				}
				If = {
					If = {
						limit = {
							OR = {
								has_cosmetic_tag = ENG_imperial_federation_unified
								has_cosmetic_tag = ENG_imperial_federation_india_unified
							}
						}
						drop_cosmetic_tag = yes
						EUR = {
							set_cosmetic_tag = EUR_imperial_federation_unified
						}
					}
					every_state = {
						if = {
							limit = {
								OR = {
									is_core_of = PREV
									is_on_continent = europe
								}
							}
							add_core_of = EUR
						}
						if = {
							limit = {
								is_claimed_by = PREV
								is_on_continent = europe
							}
							add_claim_by = EUR
						}
						if = {
							limit = {
								is_controlled_by = PREV
								NOT = { is_owned_by = PREV }
							}
							set_state_controller_to = EUR
						}
					}
					every_character = {
						set_nationality = EUR
					}
					send_equipment_fraction = {
						value = 1
						target = EUR
					}
					transfer_navy = {
						target = EUR
					}
				}
				EUR = {
					annex_country = {
						target = PREV
						transfer_troops = yes
					}
				}
			}
			EUR = {
				If = {
					limit = {
						ROOT = { has_government = democratic }
					}
					set_politics = {
						ruling_party = democratic
						last_election = "1936.1.1"
						election_frequency = 60
						elections_allowed = yes
					}
					set_popularities = {
						democratic = 70
						communism = 10
						fascism = 10
						neutrality = 10
					}
				}
				If = {
					limit = {
						ROOT = { has_government = communism }
					}
					set_politics = {
						ruling_party = communism
						last_election = "1936.1.1"
						election_frequency = 60
						elections_allowed = yes
					}
					set_popularities = {
						democratic = 10
						communism = 70
						fascism = 10
						neutrality = 10
					}
				}
				hidden_effect = {
					kill_ideology_leader = democratic
					kill_ideology_leader = communism
					kill_ideology_leader = fascism
					kill_ideology_leader = neutrality
				}
				random_character = {
					limit = {
						has_trait = Uniter_of_Europe
					}
					promote_character = yes
				}
				change_tag_from = ROOT
			}
			If = {
				limit = {
					NOT = {
						has_cosmetic_tag = ENG_imperial_federation_unified
						has_cosmetic_tag = ENG_imperial_federation_india_unified
					}
				}
				custom_effect_tooltip = form_european_union_tt
			}
			If = {
				limit = {
					OR = {
						has_cosmetic_tag = ENG_imperial_federation_unified
						has_cosmetic_tag = ENG_imperial_federation_india_unified
					}
				}
				custom_effect_tooltip = integration_in_fediration_tt
			}
			hidden_effect = {
				every_core_state = {
					limit = { is_claimed_by = EUR }
					remove_claim_by = EUR
				}
				every_country = {
					limit = {
						has_country_flag = euro_enemy
					}
					clr_country_flag = euro_enemy
					declare_war_on = {
						target = EUR
						type = annex_everything
					}
				}
				EUR = {
					ROOT = {
						every_character = {
							limit = {
								OR = {
									is_advisor = yes
									is_air_chief = yes
									is_army_chief = yes
									is_navy_chief = yes
									is_unit_leader = yes
									is_operative = yes
								}
							}
							set_nationality = EUR
						}
						send_equipment_fraction = {
							value = 1
							target = EUR
						}
						transfer_navy = {
							target = EUR
						}
					}
					annex_country = {
						target = ROOT
						transfer_troops = yes
					}
				}
				news_event = { id = wtt_news.62 hours = 6 }
				set_global_flag = form_european_union_flag
			}
		}
	}
	integration_state_in_union = {

		icon = GFX_decision_generic_form_nation

		allowed = {
			original_tag = EUR
		}

		available = {
			OR = {
				has_government = communism
				has_government = democratic
			}
			FROM = { 
				NOT = { is_core_of = EUR }
				is_fully_controlled_by = EUR
			}
			set_temp_variable = { v_integration_in_union_cost = FROM.state_population_k }
			set_temp_variable = { v_integration_in_union_days = FROM.state_population_k }
			If = {
				limit = {
					FROM = {
						has_resistance = yes
					}
				}
				If = {
					limit = {
						FROM = {
							compliance > 0
						}
					}
					divide_temp_variable = { v_integration_in_union_cost = FROM.compliance }
					add_to_temp_variable = { v_integration_in_union_cost = FROM.resistance }
					divide_temp_variable = { v_integration_in_union_days = FROM.compliance }
					add_to_temp_variable = { v_integration_in_union_days = FROM.resistance }
				}
			}
			else = {
				divide_temp_variable = { v_integration_in_union_cost = 100 }
				divide_temp_variable = { v_integration_in_union_days = 100 }
			}
			If = {
				limit = {
					FROM = {
						is_claimed_by = EUR
					}
				}
				divide_temp_variable = { v_integration_in_union_cost = 2 }
				divide_temp_variable = { v_integration_in_union_days = 2 }
			}
		}

		visible = {
			OR = {
				has_government = communism
				has_government = democratic
			}
			FROM = { 
				NOT = { is_core_of = EUR }
				is_fully_controlled_by = EUR
			}
		}
		
		target_trigger = {
			FROM = {
				OR = {
					AND = {
						is_on_continent = europe
						NOT = { is_core_of = EUR }
						is_fully_controlled_by = EUR
					}
					AND = {
						EUR = { has_cosmetic_tag = EUR_imperial_federation_unified }
						NOT = { is_core_of = EUR }
						is_fully_controlled_by = EUR
					}
				}
			}
		}
		
		cancel_trigger = {
			OR = {
				NOT = { has_government = communism }
				NOT = { has_government = democratic }
			}
			FROM = { 
				is_core_of = EUR
				NOT ={ is_fully_controlled_by = EUR }
			}
		}

		cancel_effect = {
			FROM = {
				add_claim_by = EUR
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		days_remove = v_integration_in_union_days
		cost = v_integration_in_union_cost

		remove_effect = {
			FROM = { 
				add_core_of = EUR 
				If = {
					limit = { is_claimed_by = EUR }
					remove_claim_by = EUR
				}
			}
		}

		ai_will_do = {
			base = 1
			modifier = {
				add = 100
				compliance > 99
			}
		}
	}
	integration_country_in_union = {

		icon = GFX_decision_generic_form_nation

		allowed = {
			original_tag = EUR
		}

		available = {
			OR = {
				has_government = communism
				has_government = democratic
			}
			any_core_state = {
				is_core_of = EUR
			}
			set_temp_variable = { v_integration_in_union_cost = 50 }
			FROM = {
				hidden_trigger = {
					NOT = {
						has_country_flag = EUR_country_integrated
					}
				}
				if = {
					limit = { 
						is_major = yes
					}
					multiply_temp_variable = { v_integration_in_union_cost = 2 }
				}
			}
		}

		target_trigger = {
			FROM = {
				NOT = {
					has_country_flag = EUR_country_integrated
				}
				any_core_state = {
					is_core_of = EUR
					is_on_continent = europe
				}
			}
		}

		visible = {
			OR = {
				has_government = communism
				has_government = democratic
			}
			FROM = {
				hidden_trigger = {
					NOT = {
						has_country_flag = EUR_country_integrated
					}
				}
				any_character = {
					NOT = { 
						has_nationality = EUR 
					}
				}
			}
		}
		
		target_non_existing = yes
		target_array = occupied_countries
		on_map_mode = map_and_decisions_view
		cost = v_integration_in_union_cost

		complete_effect = {
			FROM = { 
				every_character = {
					limit = {
						NOT = { 
							has_nationality = EUR 
						}
					}
					set_nationality = EUR
				}
				If = {
					limit = {
						OR = {
							has_cosmetic_tag = ENG_imperial_federation_unified
							has_cosmetic_tag = ENG_imperial_federation_india_unified
						}
					}
					ROOT = {
						set_cosmetic_tag = EUR_imperial_federation_unified
					}
					drop_cosmetic_tag = YES
				}
				hidden_effect = {
					set_country_flag = EUR_country_integrated
				}
			}
		}

		ai_will_do = {
			base = 1
		}
	}
}

EUR_imperial_fediration_cat = {
	
	integration_in_EUR_imperial_fediration = {
		
		icon = GFX_decision_generic_form_nation

		allowed = {
			has_cosmetic_tag = EUR_imperial_federation_unified
		}

		available = {
			OR = {
				has_government = communism
				has_government = democratic
			}
			FROM = { 
				NOT = { is_core_of = EUR }
				is_fully_controlled_by = EUR
			}
			set_temp_variable = { v_integration_in_union_cost = FROM.state_population_k }
			set_temp_variable = { v_integration_in_union_days = FROM.state_population_k }
			If = {
				limit = {
					FROM = {
						has_resistance = yes
					}
				}
				If = {
					limit = {
						FROM = {
							compliance > 0
						}
					}
					divide_temp_variable = { v_integration_in_union_cost = FROM.compliance }
					add_to_temp_variable = { v_integration_in_union_cost = FROM.resistance }
					divide_temp_variable = { v_integration_in_union_days = FROM.compliance }
					add_to_temp_variable = { v_integration_in_union_days = FROM.resistance }
				}
			}
			else = {
				divide_temp_variable = { v_integration_in_union_cost = 100 }
				divide_temp_variable = { v_integration_in_union_days = 100 }
			}
			If = {
				limit = {
					FROM = {
						is_claimed_by = EUR
					}
				}
				divide_temp_variable = { v_integration_in_union_cost = 2 }
				divide_temp_variable = { v_integration_in_union_days = 2 }
			}
		}

		visible = {
			OR = {
				has_government = communism
				has_government = democratic
			}
			FROM = { 
				NOT = { is_core_of = EUR }
				is_fully_controlled_by = EUR
			}
		}
		
		target_trigger = {
			FROM = {
				OR = {
					AND = {
						is_on_continent = europe
						NOT = { is_core_of = EUR }
						is_fully_controlled_by = EUR
					}
					AND = {
						EUR = { has_cosmetic_tag = EUR_imperial_federation_unified }
						NOT = { is_core_of = EUR }
						is_fully_controlled_by = EUR
					}
				}
			}
		}
		
		cancel_trigger = {
			OR = {
				NOT = { has_government = communism }
				NOT = { has_government = democratic }
			}
			FROM = { 
				is_core_of = EUR
				NOT ={ is_fully_controlled_by = EUR }
			}
		}

		cancel_effect = {
			FROM = {
				add_claim_by = EUR
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		days_remove = v_integration_in_union_days
		cost = v_integration_in_union_cost

		remove_effect = {
			FROM = { 
				add_core_of = EUR 
				If = {
					limit = { is_claimed_by = EUR }
					remove_state_claim = EUR
				}
			}
		}

		ai_will_do = {
			factor = 100
			modifier = {
				is_historical_focus_on = yes
				factor = v_integration_in_union_cost
			}
		}
	}
}
form_mutapa_category = {

	form_mutapa = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = SAF
				original_tag = BOT
				original_tag = ZIM
				original_tag = MZB
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			controls_state = 541
			controls_state = 681
			controls_state = 719
			controls_state = 275
			controls_state = 542
			controls_state = 545
			controls_state = 544
		}

		visible = {
			OR = {
				original_tag = SAF
				original_tag = BOT
				original_tag = ZIM
				original_tag = MZB
			}
			NOT = { has_global_flag = form_mutapa_flag }
		}

		complete_effect = {
			set_cosmetic_tag = MUT_UNIFIED
			541 = { add_core_of = ROOT }
			681 = { add_core_of = ROOT }
			719 = { add_core_of = ROOT }
			275 = { add_core_of = ROOT }
			542 = { add_core_of = ROOT }
			545 = { add_core_of = ROOT }
			544 = { add_core_of = ROOT }
			hidden_effect = {
				news_event = { id = wtt_news.63 hours = 6 }
				set_global_flag = form_mutapa_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

greater_italy_category = {
	
	proclaim_greater_italy = { 

		icon = generic_form_nation

		allowed = {
			original_tag = ITA # Italy
		}

		available = {
			has_completed_focus = ITA_towards_a_greater_italy
			custom_trigger_tooltip = {
				tooltip = greater_italy_required_states
				controls_state = 852 # Istria
				controls_state = 736 # Litorale
				controls_state = 160 # Veneto
				controls_state = 39 # Alto Adige
				controls_state = 850 # Trentino
				controls_state = 159 # Lombardia
				controls_state = 158 # Piedmonte
				controls_state = 161 # Emilia Romagna
				controls_state = 162 # Toscana 
				controls_state = 157 # Abruzzo
				controls_state = 2 # Latium
				controls_state = 849 # Puglia
				controls_state = 117 # Campania
				controls_state = 156 # Calabria
				controls_state = 115 # Sicilia
				controls_state = 114 # Sardegna
			}  
			custom_trigger_tooltip = {
				tooltip = greater_italy_required_other_states 
				AND = {
					OR = {
						ITA = { 
						controls_state = 1 # Corsica 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 1 # Corsica
						}
					}
					OR = {
						ITA = { 
						controls_state = 846 # Ticino 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 846 # Ticino
						}
					}
					OR = {
						ITA = { 
						controls_state = 735 # Savoy 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 735 # Savoy
						}
					}
					OR = {
						ITA = { 
						controls_state = 163 # Zara 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 163 # Zara
						}
					}
					OR = {
						ITA = { 
						controls_state = 103 # Dalmatia 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 103 # Dalmatia
						}
					}
					OR = {
						ITA = { 
						controls_state = 853 # Ljubljana 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 853 # Ljubljana
						}
					}
					OR = {
						ITA = { 
						controls_state = 116 # Malta 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 116 # Malta
						}
					}
					OR = {
						ITA = { 
						controls_state = 182 # Crete 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 182 # Crete
						}
					}
					OR = {
						ITA = { 
						controls_state = 164 # Dodecaneso 
						}
						any_country = {
							is_subject_of = ITA
							controls_state = 164 # Dodecaneso
						}
					}
				}
			}
			
			
			
		}

		visible = {
			original_tag = ITA # Italy
			has_completed_focus = ITA_towards_a_greater_italy
			NOT = { has_global_flag = greater_italy_flag }
		}

		complete_effect = {
			set_cosmetic_tag = greater_italy 
			
			custom_effect_tooltip = greater_italy_effect_tooltip
			
			add_ideas = ITA_italia_irredenta_achieved
			
			hidden_effect = { 

				# Corsica
				ITA = {
					transfer_state = 1
				}
				1 = { 
					add_core_of = ROOT
					set_state_name = ITA_italian_corsica_name
				}
				set_province_name = {
				    id = 3838 
				    name = ITA_italian_ajaccio_name   
				} 
				
				# Ticino
				ITA = {
					transfer_state = 846
				}
				846 = { add_core_of = ROOT }
				
				# Savoy
				ITA = {
					transfer_state = 735
				}
				735 = { 
					add_core_of = ROOT
					set_state_name = ITA_italian_savoy_name
				}
				set_province_name = {
				    id = 9909 
				    name = ITA_italian_nice_name
				} 
				set_province_name = {
				    id = 778  
				    name = ITA_italian_annecy_name
				} 
				 
				# Zara
				ITA = {
					transfer_state = 163
				} 
				163 = { add_core_of = ROOT }
				
				# Dalmatia
				ITA = {
					transfer_state = 103
				}
				103 = { 
					add_core_of = ROOT 
					set_state_name = ITA_italian_dalmatia_name
				}
				set_province_name = {
				    id = 3924
				    name = ITA_italian_split_name
				} 
				set_province_name = {
				    id = 6889  
				    name = ITA_italian_dubrovnik_name
				} 
	 
				# Ljubljana
				ITA = {
					transfer_state = 853
				}
				853 = { 
					add_core_of = ROOT 
					set_state_name = ITA_italian_ljubljana_state_name
				}
				set_province_name = {
				    id = 9627
				    name = ITA_italian_ljubljana_name
				}

				# Malta
				ITA = {
					transfer_state = 116
				}
				116 = { add_core_of = ROOT }

				# Crete
				ITA = {
					transfer_state = 182
				}
				182 = { 
					add_core_of = ROOT 
					set_state_name = ITA_italian_crete_name
				}
				set_province_name = {
				    id = 12058  
				    name = ITA_italian_chania_name 
				} 
				set_province_name = {
				    id = 9940  
				    name = ITA_italian_heraklion_name 
				} 

				# Dodecaneso
				ITA = {
					transfer_state = 164
				}
				164 = { add_core_of = ROOT }

				news_event = { id = bba_italian_formables_news.1 hours = 8 }	

				set_global_flag = greater_italy_flag

			}
		}

		ai_will_do = {
			factor = 500
		}
	}
}

form_roman_empire_category = {

	form_roman_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = ITA
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			has_completed_focus = ITA_mare_nostrum_bba
			# Some Dutch states
			controls_state = 7
			controls_state = 35
			# Some Luxemburgian states
			controls_state = 8
			# Some Austrian states
			controls_state = 153
			# Some Hungarian states
			controls_state = 154
			# Some Romanian states
			controls_state = 82
			controls_state = 83
			controls_state = 76
			controls_state = 84
			controls_state = 81
			controls_state = 46
			controls_state = 77
			# Some Albanian states
			controls_state = 44
			controls_state = 805
			# Yugoslavia
			custom_trigger_tooltip = {
				tooltip = form_country_yugoslavia_required_states_tt
				controls_state = 102
				controls_state = 103
				controls_state = 109
				controls_state = 104
				controls_state = 45
				controls_state = 107
				controls_state = 105
				controls_state = 108
				controls_state = 106
				controls_state = 764
			}
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				controls_state = 185
				controls_state = 731
				controls_state = 47
				controls_state = 186
				controls_state = 184
				controls_state = 187
				controls_state = 182
			}
			# Bulgaria
			custom_trigger_tooltip = {
				tooltip = form_country_bulgaria_required_states_tt
				controls_state = 48
				controls_state = 212
				controls_state = 211
				controls_state = 801
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				controls_state = 797
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 342
				controls_state = 343
				controls_state = 347
				controls_state = 49
				controls_state = 798
				controls_state = 346
				controls_state = 345
				controls_state = 356
				controls_state = 348
				controls_state = 344
				controls_state = 355
				controls_state = 349
				controls_state = 350
				controls_state = 354
				controls_state = 353
				controls_state = 352
				controls_state = 800
				controls_state = 799 #HATAY, REMOVE FROM AVAILABLE AND ADD CORE IN EFFECT
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				controls_state = 676
				controls_state = 675
				controls_state = 291
			}
			# Switzerland
			custom_trigger_tooltip = {
				tooltip = form_country_switzerland_required_states_tt
				controls_state = 3
				controls_state = 151
			}
			# Portugal
			custom_trigger_tooltip = {
				tooltip = form_eu_portugal_required_states_tt
				controls_state = 180
				controls_state = 181
				controls_state = 112
				controls_state = 179
				controls_state = 795
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				controls_state = 6
				controls_state = 34
			}
			# Italy
			custom_trigger_tooltip = {
				tooltip = form_spqr_italy_required_states_tt
				controls_state = 158
				controls_state = 159
				controls_state = 39
				controls_state = 160
				controls_state = 161
				controls_state = 162
				controls_state = 157
				controls_state = 2
				controls_state = 117
				controls_state = 156
				controls_state = 115
				controls_state = 114
				controls_state = 736
				controls_state = 163
				controls_state = 164
				# North Africa / Dodecanese
				controls_state = 164
				controls_state = 448
				controls_state = 661
				controls_state = 449
				controls_state = 662
				controls_state = 450
				controls_state = 451
				controls_state = 663
			}
			# Spain
			custom_trigger_tooltip = {
				tooltip = form_spqr_spain_required_states_tt
				controls_state = 165
				controls_state = 166
				controls_state = 167
				controls_state = 177
				controls_state = 171
				controls_state = 174
				controls_state = 172
				controls_state = 176
				controls_state = 170
				controls_state = 41
				controls_state = 175
				controls_state = 169
				controls_state = 173
				controls_state = 168
				controls_state = 788
				controls_state = 789
				controls_state = 790
				controls_state = 791
				controls_state = 792
				controls_state = 793
				controls_state = 794
				# North Africa
				controls_state = 290
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_spqr_france_required_states_tt
				controls_state = 29
				controls_state = 18
				controls_state = 17
				controls_state = 28
				controls_state = 15
				controls_state = 16
				controls_state = 27
				controls_state = 14
				controls_state = 30
				controls_state = 24
				controls_state = 23
				controls_state = 33
				controls_state = 26
				controls_state = 20
				controls_state = 32
				controls_state = 735
				controls_state = 25
				controls_state = 22
				controls_state = 21
				controls_state = 19
				controls_state = 20
				controls_state = 1
				controls_state = 785
				controls_state = 31
				# North Africa
				controls_state = 458
				controls_state = 665
				controls_state = 460
				controls_state = 513
				controls_state = 459
				controls_state = 461
				# Syria
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
			# Britain
			custom_trigger_tooltip = {
				tooltip = form_spqr_britain_required_states_tt
				#controls_state = 127
				#controls_state = 123
				#controls_state = 338
				#controls_state = 126
				#controls_state = 125
				#controls_state = 129
				#controls_state = 128
				#controls_state = 122
				#controls_state = 132
				#controls_state = 130
				#controls_state = 131
				# Egypt / Middle East
				controls_state = 452
				controls_state = 447
				controls_state = 446
				controls_state = 456
				controls_state = 457
				controls_state = 453
				controls_state = 454
				controls_state = 455
				controls_state = 183
				controls_state = 656
				# Gibraltar
				controls_state = 118
				# Malta 
				controls_state = 116
			}
		}

		visible = {
			original_tag = ITA
			has_completed_focus = ITA_mare_nostrum_bba
			NOT = { has_global_flag = form_roman_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = SPQR_UNIFIED
			# Some Dutch states
			7 = { add_core_of = ROOT }
			35 = { add_core_of = ROOT }
			# Some Luxemburgian states
			8 = { add_core_of = ROOT }
			# Some Austrian states
			153 = { add_core_of = ROOT }
			# Some Hungarian states
			154 = { add_core_of = ROOT }
			# Some Romanian states
			82 = { add_core_of = ROOT }
			83 = { add_core_of = ROOT }
			76 = { add_core_of = ROOT }
			84 = { add_core_of = ROOT }
			81 = { add_core_of = ROOT }
			46 = { add_core_of = ROOT }
			77 = { add_core_of = ROOT }
			# Some Albanian states
			44 = { add_core_of = ROOT }
			805 = { add_core_of = ROOT }
			# Yugoslavia
			custom_effect_tooltip = form_country_yugoslavia_coring_states_tt
			hidden_effect = {
				102 = { add_core_of = ROOT }
				103 = { add_core_of = ROOT }
				109 = { add_core_of = ROOT }
				104 = { add_core_of = ROOT }
				45 = { add_core_of = ROOT }
				107 = { add_core_of = ROOT }
				105 = { add_core_of = ROOT }
				108 = { add_core_of = ROOT }
				106 = { add_core_of = ROOT }
				764 = { add_core_of = ROOT }
			}
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				185 = { add_core_of = ROOT }
				731 = { add_core_of = ROOT }
				47 = { add_core_of = ROOT }
				186 = { add_core_of = ROOT }
				184 = { add_core_of = ROOT }
				187 = { add_core_of = ROOT }
				182 = { add_core_of = ROOT }
				164 = { add_core_of = ROOT }
			}
			# Bulgaria
			custom_effect_tooltip = form_country_bulgaria_coring_states_tt
			hidden_effect = {
				48 = { add_core_of = ROOT }
				212 = { add_core_of = ROOT }
				211 = { add_core_of = ROOT }
				801 = { add_core_of = ROOT }
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				341 = { add_core_of = ROOT }
				340 = { add_core_of = ROOT }
				339 = { add_core_of = ROOT }
				342 = { add_core_of = ROOT }
				343 = { add_core_of = ROOT }
				347 = { add_core_of = ROOT }
				49 = { add_core_of = ROOT }
				346 = { add_core_of = ROOT }
				345 = { add_core_of = ROOT }
				356 = { add_core_of = ROOT }
				348 = { add_core_of = ROOT }
				344 = { add_core_of = ROOT }
				355 = { add_core_of = ROOT }
				349 = { add_core_of = ROOT }
				350 = { add_core_of = ROOT }
				354 = { add_core_of = ROOT }
				353 = { add_core_of = ROOT }
				352 = { add_core_of = ROOT }
			}
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
			}
			# Switzerland
			custom_effect_tooltip = form_country_switzerland_coring_states_tt
			hidden_effect = {
				3 = { add_core_of = ROOT }
				151 = { add_core_of = ROOT }
			}
			# Portugal
			custom_effect_tooltip = form_eu_portugal_coring_states_tt
			hidden_effect = {
				180 = { add_core_of = ROOT }
				181 = { add_core_of = ROOT }
				112 = { add_core_of = ROOT }
				179 = { add_core_of = ROOT }
				795 = { add_core_of = ROOT }
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
				6 = { add_core_of = ROOT }
				34 = { add_core_of = ROOT }
			}
			# Italian North Africa
			custom_effect_tooltip = form_spqr_italy_coring_states_tt
			hidden_effect = {
				448 = { add_core_of = ROOT }
				661 = { add_core_of = ROOT }
				449 = { add_core_of = ROOT }
				662 = { add_core_of = ROOT }
				450 = { add_core_of = ROOT }
				451 = { add_core_of = ROOT }
				663 = { add_core_of = ROOT }
			}
			# Spain
			custom_effect_tooltip = form_spqr_spain_coring_states_tt
			hidden_effect = {
				165 = { add_core_of = ROOT }
				166 = { add_core_of = ROOT }
				167 = { add_core_of = ROOT }
				177 = { add_core_of = ROOT }
				171 = { add_core_of = ROOT }
				174 = { add_core_of = ROOT }
				172 = { add_core_of = ROOT }
				176 = { add_core_of = ROOT }
				170 = { add_core_of = ROOT }
				41 = { add_core_of = ROOT }
				175 = { add_core_of = ROOT }
				169 = { add_core_of = ROOT }
				173 = { add_core_of = ROOT }
				168 = { add_core_of = ROOT }
				290 = { add_core_of = ROOT }
				788 = { add_core_of = ROOT }
				789 = { add_core_of = ROOT }
				790 = { add_core_of = ROOT }
				791 = { add_core_of = ROOT }
				792 = { add_core_of = ROOT }
				793 = { add_core_of = ROOT }
				794 = { add_core_of = ROOT }
			}
			# France
			custom_effect_tooltip = form_spqr_france_coring_states_tt
			hidden_effect = {
				29 = { add_core_of = ROOT }
				18 = { add_core_of = ROOT }
				17 = { add_core_of = ROOT }
				28 = { add_core_of = ROOT }
				15 = { add_core_of = ROOT }
				16 = { add_core_of = ROOT }
				27 = { add_core_of = ROOT }
				14 = { add_core_of = ROOT }
				30 = { add_core_of = ROOT }
				24 = { add_core_of = ROOT }
				23 = { add_core_of = ROOT }
				33 = { add_core_of = ROOT }
				26 = { add_core_of = ROOT }
				20 = { add_core_of = ROOT }
				32 = { add_core_of = ROOT }
				735 = { add_core_of = ROOT }
				25 = { add_core_of = ROOT }
				22 = { add_core_of = ROOT }
				21 = { add_core_of = ROOT }
				19 = { add_core_of = ROOT }
				20 = { add_core_of = ROOT }
				1 = { add_core_of = ROOT }
				785 = { add_core_of = ROOT }
				31 = { add_core_of = ROOT }
				458 = { add_core_of = ROOT }
				665 = { add_core_of = ROOT }
				460 = { add_core_of = ROOT }
				513 = { add_core_of = ROOT }
				459 = { add_core_of = ROOT }
				461 = { add_core_of = ROOT }
				677 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				553 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
			}
			# Britain
			custom_effect_tooltip = form_spqr_britain_coring_states_tt
			hidden_effect = {
				127 = { add_core_of = ROOT }
				123 = { add_core_of = ROOT }
				338 = { add_core_of = ROOT }
				126 = { add_core_of = ROOT }
				125 = { add_core_of = ROOT }
				129 = { add_core_of = ROOT }
				128 = { add_core_of = ROOT }
				122 = { add_core_of = ROOT }
				132 = { add_core_of = ROOT }
				130 = { add_core_of = ROOT }
				131 = { add_core_of = ROOT }
				452 = { add_core_of = ROOT }
				447 = { add_core_of = ROOT }
				446 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				457 = { add_core_of = ROOT }
				453 = { add_core_of = ROOT }
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				183 = { add_core_of = ROOT }
				656 = { add_core_of = ROOT }
				118 = { add_core_of = ROOT }
				116 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.64 hours = 6 }
				set_global_flag = form_roman_empire_flag
				if = {
					limit = {
						has_country_leader = { ruling_only = yes character = ITA_benito_mussolini }
					}
					kill_country_leader = yes
					create_country_leader = {
						name = "Augustus Mussolini"
						desc = "POLITICS_BENITO_MUSSOLINI_DESC"
						picture = "GFX_portrait_italy_emperor_mussolini"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							
						}
					}
				}
				if = {
					limit = {
						has_idea = victor_emmanuel
					}
					remove_ideas = victor_emmanuel
				}
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_persian_empire_category = {

	first_persian_unite = {
		
		icon = generic_form_nation

		available = {
			is_subject = no
			IF = {
				limit = {
					original_tag = AFG
				}
				PER = {
					OR = {
						is_subject_of = ROOT
						all_core_state = {
							is_controlled_by = ROOT
							is_core_or_compliance_60 = YES
						}
					}
				}
			}
			IF = {
				limit = {
					original_tag = PER
				}
				AFG = {
					OR = {
						is_subject_of = ROOT
						all_core_state = {
							is_controlled_by = ROOT
							is_core_or_compliance_60 = YES
						}
					}
				}
			}
			IF = {
				limit = {
					original_tag = TAJ
				}
				AFG = {
					OR = {
						is_subject_of = ROOT
						all_core_state = {
							is_controlled_by = ROOT
							is_core_or_compliance_60 = YES
						}
					}
				}
				PER = {
					OR = {
						is_subject_of = ROOT
						all_core_state = {
							is_controlled_by = ROOT
							is_core_or_compliance_60 = YES
						}
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = AFG
				original_tag = PER
				original_tag = TAJ
			}
			OR = {
				AFG = {
					all_core_state = {
						OR = {
							NOT = {
								is_core_of = AFG
							}
							NOT = {
								is_core_of = PER
							}
							NOT = {
								is_core_of = TAJ
							}
						}
					}
				}
				PER = {
					all_core_state = {
						OR = {
							NOT = {
								is_core_of = AFG
							}
							NOT = {
								is_core_of = PER
							}
							NOT = {
								is_core_of = TAJ
							}
						}
					}
				}
				TAJ = {
					all_core_state = {
						OR = {
							NOT = {
								is_core_of = AFG
							}
							NOT = {
								is_core_of = PER
							}
							NOT = {
								is_core_of = TAJ
							}
						}
					}
				}
			}
		}

		complete_effect = {
			every_possible_country = {
				limit = {
					OR = {
						original_tag = AFG
						original_tag = PER
						original_tag = TAJ
					}
				}
				if = {
					limit = {
						is_subject_of = ROOT
					}
					ROOT = {
						annex_country = {
							target = PREV
						}
					}
				}
				every_core_state = {
					add_core_of = AFG
					add_core_of = PER
					add_core_of = TAJ
				}
				every_character = {
					set_nationality = ROOT
				}
			}
		}

	}

	form_persian_empire = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = AFG
				original_tag = PER
				original_tag = TAJ
			}
		}

		available = {
			is_subject = no
			if = {
				limit = {
					AND = {
						AFG = {
							NOT = {
								has_cosmetic_tag = PER_UNIFIED
							}
						}
						PER = {
							NOT = {
								has_cosmetic_tag = PER_UNIFIED
							}
						}
						TAJ = {
							NOT = {
								has_cosmetic_tag = PER_UNIFIED
							}
						}
					}
				}
				230 = { is_controlled_by = ROOT }
				229 = { is_controlled_by = ROOT }
				231 = { is_controlled_by = ROOT }
				BUK = {
					all_core_state = { is_controlled_by = ROOT }
				}
				405 = { is_controlled_by = ROOT }
				TMS = {
					all_core_state = { is_controlled_by = ROOT }
				}
				KYR = {
					all_core_state = { is_controlled_by = ROOT }
				}
				619 = { is_controlled_by = ROOT }
				PAK = {
					440 = { is_controlled_by = ROOT }
					787 = { is_controlled_by = ROOT }
					441 = { is_controlled_by = ROOT }
					442 = { is_controlled_by = ROOT }
					443 = { is_controlled_by = ROOT }
					444 = { is_controlled_by = ROOT }
					445 = { is_controlled_by = ROOT }
				}
				TUR = {
					all_core_state = { is_controlled_by = ROOT }
				}
				KUR = {
					all_core_state = { is_controlled_by = ROOT }
				}
				CYP = {
					all_core_state = { is_controlled_by = ROOT }
				}
				SYR = {
					all_core_state = { is_controlled_by = ROOT }
				}
				LEB = {
					all_core_state = { is_controlled_by = ROOT }
				}
				PAL = {
					all_core_state = { is_controlled_by = ROOT }
				}
				JOR = {
					all_core_state = { is_controlled_by = ROOT }
				}
				IRQ = {
					all_core_state = { is_controlled_by = ROOT }
				}
				KUW = {
					all_core_state = { is_controlled_by = ROOT }
				}
				EGY = {
					all_core_state = { is_controlled_by = ROOT }
				}
			}
			if = {
				limit = {
					OR = {
						AFG = {
							has_cosmetic_tag = PER_UNIFIED
						}
						PER = {
							has_cosmetic_tag = PER_UNIFIED
						}
						TAJ = {
							has_cosmetic_tag = PER_UNIFIED
						}
					}
				}
				AFG = {
					all_core_state = {
						is_core_of = ROOT
						is_controlled_by = ROOT
					}
				}
				PER = {
					all_core_state = {
						is_core_of = ROOT
						is_controlled_by = ROOT
					}
				}
				TAJ = {
					all_core_state = {
						is_core_of = ROOT
						is_controlled_by = ROOT
					}
				}
			}
		}

		visible = {
			OR = {
				original_tag = AFG
				original_tag = PER
				original_tag = TAJ
			}
			ROOT = {
				NOT = {
					has_cosmetic_tag = PER_UNIFIED
				}
			}
		}

		complete_effect = {
			if = {
				every_state = {
					limit = { 
						OR = {
							state = 230
							state = 229
							state = 231
							state = 405
							state = 619
							state = 440
							state = 787
							state = 441
							state = 442
							state = 443
							state = 444
							state = 445
						}
					}
					add_core_of = AFG 
					add_core_of = PER 
					add_core_of = TAJ 
				}
			}
			every_possible_country = {
				limit = {
					OR = {
						original_tag = BUK
						original_tag = TMS
						original_tag = KYR
						original_tag = TUR
						original_tag = KUR
						original_tag = CYP
						original_tag = SYR
						original_tag = LEB
						original_tag = PAL
						original_tag = JOR
						original_tag = IRQ
						original_tag = KUW
						original_tag = EGY
					}
				}
				every_core_state = { 
					add_core_of = AFG 
					add_core_of = PER 
					add_core_of = TAJ 
				}
			}
			if = {
				every_possible_country = {
					limit = {
						has_cosmetic_tag = PER_UNIFIED
					}
					every_character = {
						set_nationality = ROOT
					}
					drop_cosmetic_tag = yes
				}
			}
			set_cosmetic_tag = PER_UNIFIED
			hidden_effect = {
				news_event = { id = wtt_news.65 hours = 6 }
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	integrate_arabia = {

		name = form_arabia

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = AFG
				original_tag = PER
				original_tag = TAJ
			}
		}

		available = {
			is_subject = no
		}

		visible = {
			ROOT = {
				has_cosmetic_tag = PER_UNIFIED
				OR = {
					original_tag = AFG
					original_tag = PER
					original_tag = TAJ
				}
			}
			any_state = {
				OR = {
					AND = {
						region = 196
						AND = {
							OR = {
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = AFG
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = PER
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = TAJ
									}
								}
							}
						}
					}
					AND = {
						region = 236
						AND = {
							OR = {
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = AFG
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = PER
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = TAJ
									}
								}
							}
						}
					}
					AND = {
						region = 237
						AND = {
							OR = {
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = AFG
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = PER
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = TAJ
									}
								}
							}
						}
					}
					AND = {
						region = 238
						AND = {
							OR = {
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = AFG
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = PER
									}
								}
								AND = {
									is_controlled_by = ROOT
									NOT = {
										is_core_of = TAJ
									}
								}
							}
						}
					}
				}
			}
		}

		complete_effect = {
			every_state = {
				limit = {
					OR = {
						AND = {
							region = 196
							AND = {
								OR = {
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = AFG
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = PER
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = TAJ
										}
									}
								}
							}
						}
						AND = {
							region = 236
							AND = {
								OR = {
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = AFG
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = PER
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = TAJ
										}
									}
								}
							}
						}
						AND = {
							region = 237
							AND = {
								OR = {
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = AFG
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = PER
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = TAJ
										}
									}
								}
							}
						}
						AND = {
							region = 238
							AND = {
								OR = {
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = AFG
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = PER
										}
									}
									AND = {
										is_controlled_by = ROOT
										NOT = {
											is_core_of = TAJ
										}
									}
								}
							}
						}
					}
				}
				add_core_of = AFG 
				add_core_of = PER 
				add_core_of = TAJ 
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

form_byzantine_empire_category = {

	form_byzantine_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Waking the Tiger"
			NOT = { has_dlc = "Battle for the Bosporus" }
		}

		available = {
			is_subject = no
			controls_state = 44
			controls_state = 805
			controls_state = 82
			controls_state = 81
			controls_state = 46
			controls_state = 77
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				controls_state = 185
				controls_state = 731
				controls_state = 47
				controls_state = 186
				controls_state = 184
				controls_state = 187
				controls_state = 182
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				controls_state = 797
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 342
				controls_state = 343
				controls_state = 347
				controls_state = 49
				controls_state = 798
				controls_state = 346
				controls_state = 345
				controls_state = 356
				controls_state = 348
				controls_state = 344
				controls_state = 355
				controls_state = 349
				controls_state = 350
				controls_state = 354
				controls_state = 353
				controls_state = 352
				controls_state = 800
				controls_state = 799 #HATAY, REMOVE FROM AVAILABLE AND ADD CORE IN EFFECT
			}
			# Bulgaria
			custom_trigger_tooltip = {
				tooltip = form_country_bulgaria_required_states_tt
				controls_state = 48
				controls_state = 212
				controls_state = 211
				controls_state = 801
			}
			# Yugoslavia
			custom_trigger_tooltip = {
				tooltip = form_country_yugoslavia_required_states_tt
				controls_state = 102
				controls_state = 103
				controls_state = 109
				controls_state = 104
				controls_state = 45
				controls_state = 107
				controls_state = 105
				controls_state = 108
				controls_state = 106
				controls_state = 764
				controls_state = 802
				controls_state = 803
				controls_state = 804
			}
		}

		visible = {
			NOT = { has_global_flag = form_byzantine_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = BYZ_UNIFIED
			set_capital = { state = 341 }
			341 = { add_core_of = ROOT }
			hidden_effect = { 341 = { set_state_name = "Constantinople" } }
			set_province_name = { id = 9833 name = "Constantinople" }
			44 = { add_core_of = ROOT }
			805 = { add_core_of = ROOT }
			82 = { add_core_of = ROOT }
			81 = { add_core_of = ROOT }
			46 = { add_core_of = ROOT }
			77 = { add_core_of = ROOT }
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				185 = { add_core_of = ROOT }
				731 = { add_core_of = ROOT }
				47 = { add_core_of = ROOT }
				186 = { add_core_of = ROOT }
				184 = { add_core_of = ROOT }
				187 = { add_core_of = ROOT }
				182 = { add_core_of = ROOT }
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				341 = { add_core_of = ROOT }
				340 = { add_core_of = ROOT }
				339 = { add_core_of = ROOT }
				342 = { add_core_of = ROOT }
				343 = { add_core_of = ROOT }
				347 = { add_core_of = ROOT }
				49 = { add_core_of = ROOT }
				346 = { add_core_of = ROOT }
				345 = { add_core_of = ROOT }
				356 = { add_core_of = ROOT }
				348 = { add_core_of = ROOT }
				344 = { add_core_of = ROOT }
				355 = { add_core_of = ROOT }
				349 = { add_core_of = ROOT }
				350 = { add_core_of = ROOT }
				354 = { add_core_of = ROOT }
				353 = { add_core_of = ROOT }
				352 = { add_core_of = ROOT }
				799 = { add_core_of = ROOT }
			}
			# Bulgaria
			custom_effect_tooltip = form_country_bulgaria_coring_states_tt
			hidden_effect = {
				48 = { add_core_of = ROOT }
				212 = { add_core_of = ROOT }
				211 = { add_core_of = ROOT }
				801 = { add_core_of = ROOT }
			}
			# Yugoslavia
			custom_effect_tooltip = form_country_yugoslavia_coring_states_tt
			hidden_effect = {
				102 = { add_core_of = ROOT }
				103 = { add_core_of = ROOT }
				109 = { add_core_of = ROOT }
				104 = { add_core_of = ROOT }
				45 = { add_core_of = ROOT }
				107 = { add_core_of = ROOT }
				105 = { add_core_of = ROOT }
				108 = { add_core_of = ROOT }
				106 = { add_core_of = ROOT }
				764 = { add_core_of = ROOT }
				802 = { add_core_of = ROOT }
				803 = { add_core_of = ROOT }
				804 = { add_core_of = ROOT }
				
			}
			hidden_effect = {
				news_event = { id = wtt_news.66 hours = 6 }
				set_global_flag = form_byzantine_empire_flag
			}
			set_country_flag = achivement_i_swear_im_not_a_byzantophile
			set_country_flag = achivement_istanbul_is_constantinople_again
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_restore_byzantium = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			has_completed_focus = GRE_reviving_the_double_headed_eagle
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				controls_state = 185
				controls_state = 731
				controls_state = 47
				controls_state = 186
				controls_state = 184
				controls_state = 187
				controls_state = 182
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				controls_state = 797
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 342
				controls_state = 343
				controls_state = 347
				controls_state = 49
				controls_state = 798
				controls_state = 346
				controls_state = 345
				controls_state = 356
				controls_state = 348
				controls_state = 344
				controls_state = 355
				controls_state = 349
				controls_state = 350
				controls_state = 354
				controls_state = 353
				controls_state = 352
				controls_state = 800
			}
		}

		visible = {
			AND = { 
				has_completed_focus = GRE_horror_and_fear
				has_government = fascism
			}
			NOT = { has_global_flag = form_byzantine_empire_flag }
		}

		complete_effect = {
			set_country_flag = GRE_byz_unified_flag
			GRE_set_appropriate_cosmetic_tag = yes
			set_capital = { state = 797 }
			797 = { add_core_of = ROOT }
			hidden_effect = { 797 = { set_state_name = "Constantinople" } }
			set_province_name = { id = 9833 name = "Constantinople" }
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				185 = { add_core_of = ROOT }
				731 = { add_core_of = ROOT }
				47 = { add_core_of = ROOT }
				186 = { add_core_of = ROOT }
				184 = { add_core_of = ROOT }
				187 = { add_core_of = ROOT }
				182 = { add_core_of = ROOT }
				731 = { set_state_name = "Thessalonica" }
				184 = { set_state_name = "Strymon" }
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				341 = { add_core_of = ROOT }
				340 = { set_state_name = "Thracia" }
				set_province_name = { id = 947 name = "Prusa" }
				340 = { add_core_of = ROOT }
				340 = { set_state_name = "Prusa" }
				set_province_name = { id = 947 name = "Prusa" }
				339 = { add_core_of = ROOT }
				339 = { set_state_name = "Samos" }
				set_province_name = { id = 4112 name = "Smyrna" }
				342 = { add_core_of = ROOT }
				342 = { set_state_name = "Cibyrrhaeot" }
				set_province_name = { id = 1005 name = "Attaleia" }
				343 = { add_core_of = ROOT }
				343 = { set_state_name = "Thrakesion" }
				set_province_name = { id = 9878 name = "Nicopolis" }
				set_province_name = { id = 10041 name = "Attouda" }
				347 = { add_core_of = ROOT }
				347 = { set_state_name = "Optimaton" }
				set_province_name = { id = 11811 name = "Nikomedeia" }
				set_province_name = { id = 904 name = "Pontoheraclea" }
				49 = { add_core_of = ROOT }
				49 = { set_state_name = "Bukellarion" }
				set_province_name = { id = 11747 name = "Ancyra" }
				set_province_name = { id = 3951 name = "Dorylaion" }
				346 = { add_core_of = ROOT }
				346 = { set_state_name = "Anatolikon" }
				set_province_name = { id = 940 name = "Ikonion" }
				345 = { add_core_of = ROOT }
				345 = { set_state_name = "Seleucia" }
				set_province_name = { id = 10056 name = "Hadrianopolis" }
				356 = { add_core_of = ROOT }
				356 = { set_state_name = "Paphlagonia" }
				set_province_name = { id = 6995 name = "Sinope" }
				set_province_name = { id = 6938 name = "Kastamone" }
				348 = { add_core_of = ROOT }
				348 = { set_state_name = "Cappadocia" }
				set_province_name = { id = 3870 name = "Caesarea" }
				344 = { add_core_of = ROOT }
				344 = { set_state_name = "Cilicia" }
				set_province_name = { id = 11746 name = "Tarsus" }
				set_province_name = { id = 886 name = "Germanicia" }
				set_province_name = { id = 9893 name = "Ravanda" }
				355 = { add_core_of = ROOT }
				355 = { set_state_name = "Armeniakon" }
				set_province_name = { id = 11881 name = "Amisos" }
				349 = { add_core_of = ROOT }
				349 = { set_state_name = "Koloneia" }
				set_province_name = { id = 9777 name = "Sebasteia" }
				798 = { add_core_of = ROOT }
				798 = { set_state_name = "Carsiano" }
				set_province_name = { id = 919 name = "Amaseia" }
				set_province_name = { id = 3862 name = "Taouion" }
				350 = { add_core_of = ROOT }
				350 = { set_state_name = "Melitene" }
				set_province_name = { id = 7620 name = "Melitene" }
				set_province_name = { id = 9823 name = "Justinopolis" }
				set_province_name = { id = 4512 name = "Amida" }
				354 = { add_core_of = ROOT }
				354 = { set_state_name = "Chaldia" }
				set_province_name = { id = 9932 name = "Trebizond" }
				353 = { add_core_of = ROOT }
				353 = { set_state_name = "Manzikert" }
				set_province_name = { id = 11853 name = "Theodosiopolis" }
				352 = { add_core_of = ROOT }
				352 = { set_state_name = "Hubushkia" }
				set_province_name = { id = 12476 name = "Kondylis" }
				800 = { add_core_of = ROOT }
				800 = { set_state_name = "Vaspurakan" }
				set_province_name = { id = 6935 name = "Eua" }
				799 = { add_core_of = ROOT }
				799 = { set_state_name = "Antioch" }
				set_province_name = { id = 12029 name = "Antiochia" }
			}
			hidden_effect = {
				news_event = { id = wtt_news.66 hours = 6 }
				set_global_flag = form_byzantine_empire_flag
				swap_ruler_traits = { remove = archon_basileus add = autokrator }
			}
			set_country_flag = achivement_i_swear_im_not_a_byzantophile
			set_country_flag = achivement_istanbul_is_constantinople_again
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_the_balkans = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			# Albania
			custom_trigger_tooltip = {
				tooltip = form_country_dyrrachium_required_states_tt
				controls_state = 44
				controls_state = 105
				controls_state = 805
			}
			# Romania
			custom_trigger_tooltip = {
				tooltip = form_country_paristrion_required_states_tt
				controls_state = 82
				controls_state = 81
				controls_state = 46
				controls_state = 77
				controls_state = 766
			}
			# Bulgaria
			custom_trigger_tooltip = {
				tooltip = form_country_boulgarias_required_states_tt
				controls_state = 48
				controls_state = 212
				controls_state = 211
				controls_state = 106
				controls_state = 801
			}
			# Yugoslavia
			custom_trigger_tooltip = {
				tooltip = form_country_sirmium_required_states_tt
				controls_state = 102
				controls_state = 103
				controls_state = 109
				controls_state = 104
				controls_state = 45
				controls_state = 107
				controls_state = 108
				controls_state = 802
				controls_state = 803
				controls_state = 804
				controls_state = 764
			}
		}

		visible = {
			if = {
				limit = { has_dlc = "Battle for the Bosporus" }
				has_completed_focus = GRE_byzantine_themata
			}
			NOT = { has_global_flag = triumph_for_the_balkans }
		}

		complete_effect = {
			# Albania
			custom_effect_tooltip = form_country_dyrrachium_coring_states_tt
			hidden_effect = {
				44 = { add_core_of = ROOT }
				44 = { set_state_name = "Illyria" }
				set_province_name = { id = 9914 name = "Kastrioti" }
				set_province_name = { id = 11767 name = "Aulon" }
				105 = { add_core_of = ROOT }
				105 = { set_state_name = "Dyrrhachion" }
				set_province_name = { id = 9809 name = "Dyrrhachium" }
				805 = { add_core_of = ROOT }
				set_province_name = { id = 914 name = "Argyrokastro" }
			}
			# Romania
			custom_effect_tooltip = form_country_paristrion_coring_states_tt
			hidden_effect = {
				82 = { add_core_of = ROOT }
				82 = { set_state_name = "Pannonia" }
				81 = { add_core_of = ROOT }
				48 = { set_state_name = "Wallachia" }
				set_province_name = { id = 6652 name = "Pelendava" }
				46 = { add_core_of = ROOT }
				46 = { set_state_name = "Paristrion" }
				set_province_name = { id = 9617 name = "Kosmidis" }
				set_province_name = { id = 3663 name = "Tarnovo" }
				77 = { add_core_of = ROOT }
				77 = { set_state_name = "Anchialus" }
				set_province_name = { id = 11597 name = "Mesembria" }
				766 = { add_core_of = ROOT }
				766 = { set_state_name = "Silistra" }
				set_province_name = { id = 6727 name = "Velissarios" }
				
			}
			# Bulgaria
			custom_effect_tooltip = form_country_boulgarias_coring_states_tt
			hidden_effect = {
				48 = { add_core_of = ROOT }
				48 = { set_state_name = "Philippopolis" }
				set_province_name = { id = 949 name = "Serdica" }
				212 = { add_core_of = ROOT }
				212 = { set_state_name = "Philippopolis" }
				set_province_name = { id = 6923 name = "Philippopolis" }
				211 = { add_core_of = ROOT }
				211 = { set_state_name = "Pyrgos" }
				set_province_name = { id = 9902 name = "Poros" }
				set_province_name = { id = 9783 name = "Odessos" }
				106 = { add_core_of = ROOT }
				106 = { set_state_name = "Boulgarias" }
				set_province_name = { id = 3882 name = "Scupi" }
				731 = { set_state_name = "Macedonia" }
				801 = { add_core_of = ROOT }
			}
			# Yugoslavia
			custom_effect_tooltip = form_country_sirmium_coring_states_tt
			hidden_effect = {
				102 = { add_core_of = ROOT }
				103 = { add_core_of = ROOT }
				set_province_name = { id = 3924 name = "Spalatum" }
				109 = { add_core_of = ROOT }
				set_province_name = { id = 11581 name = "Venizelos" }
				104 = { add_core_of = ROOT }
				104 = { set_state_name = "Bosona" }
				45 = { add_core_of = ROOT }
				107 = { add_core_of = ROOT }
				107 = { set_state_name = "Sirmium" }
				set_province_name = { id = 11586 name = "Belograd" }
				108 = { add_core_of = ROOT }
				108 = { set_state_name = "Pizren" }
				set_province_name = { id = 9602 name = "Naissus" }
				802 = { add_core_of = ROOT }
				803 = { add_core_of = ROOT }
				804 = { add_core_of = ROOT }
				764 = { add_core_of = ROOT }
			}
			hidden_effect = {
				set_global_flag = triumph_for_the_balkans
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_italy = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "Battle for the Bosporus"
			}
		}

		available = {
			is_subject = no
			# Italy
			custom_trigger_tooltip = {
				tooltip = form_eu_italy_required_states_tt
				controls_state = 158
				controls_state = 159
				controls_state = 39
				controls_state = 160
				controls_state = 161
				controls_state = 162
				controls_state = 157
				controls_state = 2
				controls_state = 117
				controls_state = 156
				controls_state = 115
				controls_state = 736
				controls_state = 163
			}
		}

		visible = {
			original_tag = GRE
			NOT = { has_global_flag = triumph_for_italy }
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				has_completed_focus = GRE_byzantine_themata
			}
		}

		complete_effect = {
			# Italy
			custom_effect_tooltip = form_eu_italy_coring_states_tt
			hidden_effect = {
				158 = { add_core_of = ROOT }
				159 = { add_core_of = ROOT }
				39 = { add_core_of = ROOT }
				160 = { add_core_of = ROOT }
				161 = { add_core_of = ROOT }
				162 = { add_core_of = ROOT }
				157 = { add_core_of = ROOT }
				2 = { add_core_of = ROOT }
				117 = { add_core_of = ROOT }
				156 = { add_core_of = ROOT }
				115 = { add_core_of = ROOT }
				736 = { add_core_of = ROOT }
				163 = { add_core_of = ROOT }
				set_global_flag = triumph_for_italy
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_middle_east = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			OR = {
				has_dlc = "Waking the Tiger"
				has_dlc = "Battle for the Bosporus"
			}
		}

		available = {
			is_subject = no
			# France: Syria
			controls_state = 677
			controls_state = 680
			controls_state = 553
			controls_state = 554
			# Italy: Dodecanese
			controls_state = 164
			# Britain: Middle East
			controls_state = 453
			controls_state = 454
			controls_state = 455
			controls_state = 183
			controls_state = 799
		}

		visible = {
			original_tag = GRE
			NOT = { has_global_flag = triumph_for_middle_east }
			if = {
				limit = { has_dlc = "Battle for the Bosporus"}
				has_completed_focus = GRE_byzantine_themata
			}
		}

		complete_effect = {
			677 = { add_core_of = ROOT }
			680 = { add_core_of = ROOT }
			553 = { add_core_of = ROOT } 
			554 = { add_core_of = ROOT }
			164 = { add_core_of = ROOT }
			453 = { add_core_of = ROOT }
			454 = { add_core_of = ROOT }
			455 = { add_core_of = ROOT }
			183 = { add_core_of = ROOT }
			799 = { add_core_of = ROOT }
			set_global_flag = triumph_for_middle_east
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	byz_triumph_for_egypt_and_tunis = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			if = {
				limit = { has_dlc = "Battle for the Bosporus"}
				has_completed_focus = GRE_reviving_the_double_headed_eagle
			}
			# French North Africa
			controls_state = 458
			controls_state = 665
			# Italian North Africa
			controls_state = 449
			controls_state = 662
			controls_state = 448
			controls_state = 661
			controls_state = 450
			controls_state = 451
			controls_state = 663
			# Britain: Egypt
			controls_state = 452
			controls_state = 447
			controls_state = 446
			controls_state = 456
			controls_state = 457
		}

		visible = {
			
			NOT = { has_global_flag = triumph_for_egypt_and_tunis }
			if = {
				limit = {
					has_dlc = "Battle for the Bosporus"
				}
				has_completed_focus = GRE_byzantine_themata
			}
		}

		complete_effect = {
			458 = { add_core_of = ROOT }
			665 = { add_core_of = ROOT }
			449 = { add_core_of = ROOT }
			662 = { add_core_of = ROOT }
			448 = { add_core_of = ROOT }
			661 = { add_core_of = ROOT }
			450 = { add_core_of = ROOT }
			451 = { add_core_of = ROOT }
			663 = { add_core_of = ROOT }
			452 = { add_core_of = ROOT }
			447 = { add_core_of = ROOT }
			446 = { add_core_of = ROOT }
			456 = { add_core_of = ROOT }
			457 = { add_core_of = ROOT }
			set_global_flag = triumph_for_egypt_and_tunis
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_arabia_category = {

	form_arabia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = ALG
				original_tag = EGY
				original_tag = IRQ
				original_tag = JOR
				original_tag = KUW
				original_tag = LBA
				original_tag = LEB
				original_tag = MOR
				original_tag = MRT
				original_tag = OMA
				original_tag = PAL
				original_tag = QAT
				original_tag = SAU
				original_tag = SUD
				original_tag = SYR
				original_tag = TUN
				original_tag = UAE
				original_tag = WES
				original_tag = YEM
			}
		}

		available = {
			FROM = {
				NOT = {
					core_compliance = {
						occupied_country_tag = THIS
						value < 100
					}
				}
				all_core_state = {
					is_controlled_by = ROOT
				}
			}
		}

		visible = {
			NOT = { has_global_flag = form_arabia_flag }
			FROM = {
				any_core_state = {
					NOT = {
						is_core_of = ROOT
					}
					is_controlled_by = ROOT
				}
			}
		}

		target_non_existing = yes

		targets = {
			ALG EGY IRQ JOR KUW LBA LEB MOR MRT OMA PAL QAT SAU SUD SYR TUN UAE WES YEM
		}


		complete_effect = {
			FROM = {
				if = {
					limit = {
						exists = yes
					}
					ROOT = {
						annex_country = {
							target = PREV
						}
					}
				}
				every_core_state = {
					add_core_of = ROOT
				}
				every_character = {
					set_nationality = ROOT
				}
			}
			If = {
				limit = {
					ALG = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					EGY = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					IRQ = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					JOR = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					KUW = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					LBA = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					LEB = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					MOR = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					MRT = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					OMA = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					PAL = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					QAT = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					SAU = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					SUD = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					SYR = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					TUN = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					UAE = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					WES = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					YEM = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					NOT = { has_global_flag = form_arabia_flag }
				}
				set_cosmetic_tag = ARA_UNIFIED
				set_global_flag = form_arabia_flag
				hidden_effect = {
					every_state = {
						limit = {
							OR = {
								is_core_of = ALG
								is_core_of = EGY
								is_core_of = IRQ
								is_core_of = JOR
								is_core_of = KUW
								is_core_of = LBA
								is_core_of = LEB
								is_core_of = MOR
								is_core_of = MRT
								is_core_of = OMA
								is_core_of = PAL
								is_core_of = QAT
								is_core_of = SAU
								is_core_of = SUD
								is_core_of = SYR
								is_core_of = TUN
								is_core_of = UAE
								is_core_of = WES
								is_core_of = YEM
							}
						}
						remove_core_of = ALG
						remove_core_of = EGY
						remove_core_of = IRQ
						remove_core_of = JOR
						remove_core_of = KUW
						remove_core_of = LBA
						remove_core_of = LEB
						remove_core_of = MOR
						remove_core_of = MRT
						remove_core_of = OMA
						remove_core_of = PAL
						remove_core_of = QAT
						remove_core_of = SAU
						remove_core_of = SUD
						remove_core_of = SYR
						remove_core_of = TUN
						remove_core_of = UAE
						remove_core_of = WES
						remove_core_of = YEM
						add_core_of = ROOT
					}
					news_event = { id = wtt_news.67 hours = 6 }
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
}

form_majapahit_empire_category = {

	form_majapahit_empire = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = INS
				original_tag = MAL
			}
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Dutch East Indies
			custom_trigger_tooltip = {
				tooltip = form_majapahit_nei_required_states_tt
				controls_state = 672
				controls_state = 335
				controls_state = 334
				controls_state = 667
				controls_state = 673
				controls_state = 668
				controls_state = 667
				controls_state = 738
				controls_state = 669
			}
			# British Malaya
			custom_trigger_tooltip = {
				tooltip = form_majapahit_malaya_required_states_tt
				controls_state = 336
				controls_state = 333
			}
		}

		visible = {
			OR = {
				original_tag = INS
				original_tag = MAL
			}
			NOT = { has_global_flag = form_majapahit_empire_flag }
		}

		complete_effect = {
			set_cosmetic_tag = MAJ_UNIFIED
			# Dutch East Indies
			custom_effect_tooltip = form_country_nei_coring_states_tt
			hidden_effect = {
				672 = { add_core_of = ROOT }
				335 = { add_core_of = ROOT }
				334 = { add_core_of = ROOT }
				667 = { add_core_of = ROOT }
				673 = { add_core_of = ROOT }
				668 = { add_core_of = ROOT }
				667 = { add_core_of = ROOT }
				738 = { add_core_of = ROOT }
				669 = { add_core_of = ROOT }
			}
			# British Malaya
			custom_effect_tooltip = form_country_malaya_coring_states_tt
			hidden_effect = {
				336 = { add_core_of = ROOT }
				333 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.68 hours = 6 }
				set_global_flag = form_majapahit_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_rattanakosin_kingdom_category = {

	form_rattanakosin_kingdom = {

		icon = generic_form_nation

		allowed = {
			original_tag = SIA
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Siam
			controls_state = 289
			controls_state = 724
			# Cambodia
			controls_state = 741
			# Laos
			controls_state = 670
		}

		visible = {
			original_tag = SIA
			NOT = { has_global_flag = form_rattanakosin_kingdom_flag }
		}

		complete_effect = {
			set_cosmetic_tag = RAT_UNIFIED
			741 = { add_core_of = ROOT }
			670 = { add_core_of = ROOT }
			hidden_effect = {
				news_event = { id = wtt_news.69 hours = 6 }
				set_global_flag = form_rattanakosin_kingdom_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_hre_category = {

	form_hre = {

		icon = generic_form_nation

		allowed = {
			original_tag = GER
			has_dlc = "Waking the Tiger"
		}

		available = {
			is_subject = no
			# Germany
			custom_trigger_tooltip = {
				tooltip = form_hre_germany_required_states_tt
				controls_state = 51
				controls_state = 42
				controls_state = 56
				controls_state = 57
				controls_state = 55
				controls_state = 50
				controls_state = 59
				controls_state = 58
				controls_state = 60
				controls_state = 54
				controls_state = 52
				controls_state = 53
				controls_state = 61
				controls_state = 64
				controls_state = 65
				controls_state = 62
				controls_state = 68
				controls_state = 66
				controls_state = 67
				controls_state = 63
			}
			controls_state = 8
			controls_state = 28
			controls_state = 735
			controls_state = 69
			controls_state = 9
			controls_state = 75
			controls_state = 74
			controls_state = 158
			controls_state = 159
			controls_state = 39
			controls_state = 160
			controls_state = 161
			controls_state = 162
			controls_state = 736
			# Switzerland
			custom_trigger_tooltip = {
				tooltip = form_country_switzerland_required_states_tt
				controls_state = 3
				controls_state = 151
			}
			# Austria
			custom_trigger_tooltip = {
				tooltip = form_country_austria_required_states_tt
				controls_state = 153
				controls_state = 152
				controls_state = 4
			}
			# Netherlands
			custom_trigger_tooltip = {
				tooltip = form_eu_netherlands_required_states_tt
				controls_state = 7
				controls_state = 35
				controls_state = 36
			}
			# Belgium
			custom_trigger_tooltip = {
				tooltip = form_eu_belgium_required_states_tt
				controls_state = 6
				controls_state = 34
			}
		}

		visible = {
			AND = {
				original_tag = GER
				has_government = neutrality
				has_country_leader = { ruling_only = yes character = GER_victoria }
			}
			NOT = { has_global_flag = form_hre_flag }
		}

		complete_effect = {
			set_cosmetic_tag = HRE_UNIFIED
			8 = { add_core_of = ROOT }
			28 = { add_core_of = ROOT }
			735 = { add_core_of = ROOT }
			69 = { add_core_of = ROOT }
			9 = { add_core_of = ROOT }
			75 = { add_core_of = ROOT }
			74 = { add_core_of = ROOT }
			158 = { add_core_of = ROOT }
			159 = { add_core_of = ROOT }
			39 = { add_core_of = ROOT }
			160 = { add_core_of = ROOT }
			161 = { add_core_of = ROOT }
			162 = { add_core_of = ROOT }
			736 = { add_core_of = ROOT }
			# Switzerland
			custom_effect_tooltip = form_country_switzerland_coring_states_tt
			hidden_effect = {
				3 = { add_core_of = ROOT }
				151 = { add_core_of = ROOT }
			}
			# Austria
			custom_effect_tooltip = form_country_austria_coring_states_tt
			hidden_effect = {
				153 = { add_core_of = ROOT }
				152 = { add_core_of = ROOT }
				4 = { add_core_of = ROOT }
			}
			# Netherlands
			custom_effect_tooltip = form_eu_netherlands_coring_states_tt
			hidden_effect = {
				7 = { add_core_of = ROOT }
				35 = { add_core_of = ROOT }
				36 = { add_core_of = ROOT }
			}
			# Belgium
			custom_effect_tooltip = form_eu_belgium_coring_states_tt
			hidden_effect = {
				6 = { add_core_of = ROOT }
				34 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = wtt_news.70 hours = 6 }
				set_global_flag = form_hre_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_greater_german_reich_category = {

	form_greater_german_reich = {

		icon = generic_form_nation

		allowed = {
			has_idea = sour_loser
			has_dlc = "Waking the Tiger"
		}

		available = {
			ENG = { 
				OR = {
					has_capitulated  = YES 
					exists = NO
					is_puppet_of = GER
				}
			}
			FRA = { 
				OR = {
					has_capitulated  = YES 
					exists = NO
					is_puppet_of = GER
				}
			}
			POL = { 
				OR = {
					has_capitulated  = YES 
					exists = NO
					is_puppet_of = GER
				}
			}
			SOV = { 
				OR = {
					has_capitulated  = YES 
					exists = NO
					is_puppet_of = GER
				}
			}
			GER = {
				is_subject = no
				controls_province = 6103
				controls_province = 11506
				controls_province = 3544
				controls_province = 6380
				controls_province = 3151
				controls_province = 3529
				all_core_state = { is_controlled_by = GER }
			}
		}

		visible = {
			has_idea = sour_loser
			OR = {
				has_government = fascism
				has_government = neutrality
			}
			NOT = { has_global_flag = form_greater_german_reich_flag }
		}

		complete_effect = {
			IF = {
				limit = {
					has_government = fascism
				}
				swap_ideas = {
					remove_idea = sour_loser
					add_idea = triumphant_will_fascism
				}
			}
			IF = {
				limit = {
					has_government = neutrality
				}
				swap_ideas = {
					remove_idea = sour_loser
					add_idea = triumphant_will_neutrality
				}
			}
			every_state = {
				limit = {
					is_claimed_by = GER
					is_on_continent = europe
				}
				remove_claim_by = GER
				add_core_of = GER
			}
			set_cosmetic_tag = GER_greater_german_reich
			set_province_name = { id = 6521 name = "Germania" }
			hidden_effect = {
				set_global_flag = form_greater_german_reich_flag
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

form_andalusia_category = {
	
	form_andalusia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = MOR
				original_tag = ALG
				original_tag = TUN
				original_tag = WES
				original_tag = LBA
			}
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Spain
			controls_state = 173
			controls_state = 789
			controls_state = 168
			controls_state = 167
			controls_state = 175
			controls_state = 170
			# Portugal
			controls_state = 179
			controls_state = 795
		}

		visible = {
			OR = {
				original_tag = MOR
				original_tag = ALG
				original_tag = TUN
				original_tag = WES
				original_tag = LBA
			}
			NOT = { has_global_flag = form_andalusia_flag }
			ADU = { exists = no }
		}

		complete_effect = {
			set_cosmetic_tag = ADU
			# Andalusia
			custom_effect_tooltip = form_country_andalusia_coring_states_tt
			hidden_effect = {
				165 = { add_core_of = ROOT }
				171 = { add_core_of = ROOT }
				792 = { add_core_of = ROOT }
				172 = { add_core_of = ROOT }
				790 = { add_core_of = ROOT }
				789 = { add_core_of = ROOT }
				41 = { add_core_of = ROOT }
				173 = { add_core_of = ROOT }
				169 = { add_core_of = ROOT }
				168 = { add_core_of = ROOT }
				167 = { add_core_of = ROOT }
				794 = { add_core_of = ROOT }
				793 = { add_core_of = ROOT }
				791 = { add_core_of = ROOT }
				788 = { add_core_of = ROOT }
				178 = { add_core_of = ROOT }
				177 = { add_core_of = ROOT }
				176 = { add_core_of = ROOT }
				175 = { add_core_of = ROOT }
				174 = { add_core_of = ROOT }
				170 = { add_core_of = ROOT }
				166 = { add_core_of = ROOT }
				112 = { add_core_of = ROOT }
				179 = { add_core_of = ROOT }
				180 = { add_core_of = ROOT }
				181 = { add_core_of = ROOT }
				697 = { add_core_of = ROOT }
				698 = { add_core_of = ROOT }
				795 = { add_core_of = ROOT }
				118 = { add_core_of = ROOT }
				set_capital = { state = 789 }
			}
			hidden_effect = {
				news_event = { id = lar_news.281 hours = 6 }
				set_global_flag = form_andalusia_flag
				set_country_flag = country_formed_andalusia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_restore_sultanate_of_africa = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			custom_trigger_tooltip = {
				tooltip = north_africa_needed_tooltip
				#Morocco
				controls_state = 290
				controls_state = 461
				controls_state = 462
				controls_state = 783
				#Tunisia
				controls_state = 458
				controls_state = 665
				#Algeria
				controls_state = 459
				controls_state = 460
				controls_state = 513
				controls_state = 514
				#Libya
				controls_state = 273
				controls_state = 448
				controls_state = 449
				controls_state = 450
				controls_state = 451
				controls_state = 661
				controls_state = 662
				controls_state = 663
			}
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			NOT = { has_global_flag = sultanate_of_africa_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# North Africa
			custom_effect_tooltip = coring_north_africa_tt
			hidden_effect = {
				#Morocco
				290 = { add_core_of = ROOT }
				461 = { add_core_of = ROOT }
				462 = { add_core_of = ROOT }
				783 = { add_core_of = ROOT }
				#Tunisia
				458 = { add_core_of = ROOT }
				665 = { add_core_of = ROOT }
				#Western Sahara
				699 = { add_core_of = ROOT }
				#Algeria
				459 = { add_core_of = ROOT }
				460 = { add_core_of = ROOT }
				513 = { add_core_of = ROOT }
				514 = { add_core_of = ROOT }
				#Libya
				273 = { add_core_of = ROOT }
				448 = { add_core_of = ROOT }
				449 = { add_core_of = ROOT }
				450 = { add_core_of = ROOT }
				451 = { add_core_of = ROOT }
				661 = { add_core_of = ROOT }
				662 = { add_core_of = ROOT }
				663 = { add_core_of = ROOT }
				set_global_flag = sultanate_of_africa_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_mediterrenean_emirates = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Med Islands
				#Sicily
				controls_state = 115
				#Malta
				controls_state = 116
				#Rhodes
				controls_state = 164
				#Crete
				controls_state = 182
				#Cyprus
				controls_state = 183
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			NOT = { has_global_flag = emirate_of_sicily_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# Med Islands
				#Sicily
				115 = { add_core_of = ROOT }
				#Malta
				116 = { add_core_of = ROOT }
				#Rhodes
				164 = { add_core_of = ROOT }
				#Crete
				182 = { add_core_of = ROOT }
				#Cyprus
				183 = { add_core_of = ROOT }
				#Sardinia and Corsica
				114 = { add_core_of = ROOT }
				1 = { add_core_of = ROOT }
				
				hidden_effect = { set_global_flag = emirate_of_sicily_flag }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_restore_umayyad_caliphate = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				controls_state = 676
				controls_state = 675
				controls_state = 291
			}
			# Saudi Arabia
			custom_trigger_tooltip = {
				tooltip = form_country_saudi_required_states_tt
				controls_state = 292
				controls_state = 679
				controls_state = 678
			}
			# France
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				# Syria
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
			custom_trigger_tooltip = {
				tooltip = form_country_egypt_required_states_tt
				controls_state = 552
				controls_state = 453
				controls_state = 456
				controls_state = 446
				controls_state = 457
				controls_state = 452
				controls_state = 447
			}
			controls_state = 679
			controls_state = 293
			controls_state = 294
			controls_state = 454
			controls_state = 455
			controls_state = 656
			controls_state = 658
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			has_global_flag = emirate_of_sicily_flag
			has_global_flag = sultanate_of_africa_flag
			NOT = { has_global_flag = restored_umayyad_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			custom_effect_tooltip = middle_east_coring_states_tt
			hidden_effect = {
				# Iraq
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
				# Saudi Arabia
				292 = { add_core_of = ROOT }
				679 = { add_core_of = ROOT }
				678 = { add_core_of = ROOT }
				# French Arabia
				677 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				553 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
				679 = { add_core_of = ROOT }
				293 = { add_core_of = ROOT }
				294 = { add_core_of = ROOT }
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				656 = { add_core_of = ROOT }
				658 = { add_core_of = ROOT }
				# Egypt
				552 = { add_core_of = ROOT }
				453 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				446 = { add_core_of = ROOT }
				457 = { add_core_of = ROOT }
				452 = { add_core_of = ROOT }
				447 = { add_core_of = ROOT }
				set_global_flag = restored_umayyad_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_recreate_rashid_expansion = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Iran
			custom_trigger_tooltip = {
				tooltip = form_country_iran_required_states_tt
				controls_state = 419
				controls_state = 421
				controls_state = 420
				controls_state = 417
				controls_state = 413
				controls_state = 266
				controls_state = 418
				controls_state = 411
				controls_state = 412
				controls_state = 416
				controls_state = 414
				controls_state = 410
			}
			# Afghanistan
			custom_trigger_tooltip = {
				tooltip = form_country_afghanistan_required_states_tt
				controls_state = 415
				controls_state = 267
			}
			# Pakistan
			custom_trigger_tooltip = {
				tooltip = form_country_pakistani_required_states_tt
				controls_state = 787
				controls_state = 445
				controls_state = 442
				controls_state = 444
				controls_state = 440
				controls_state = 443
			}
			
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			has_global_flag = restored_umayyad_flag
			NOT = { has_global_flag = restored_rashid_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# Iran
			custom_effect_tooltip = form_country_iran_coring_states_tt
			hidden_effect = {
				419 = { add_core_of = ROOT }
				421 = { add_core_of = ROOT }
				420 = { add_core_of = ROOT }
				417 = { add_core_of = ROOT }
				413 = { add_core_of = ROOT }
				266 = { add_core_of = ROOT }
				418 = { add_core_of = ROOT }
				411 = { add_core_of = ROOT }
				412 = { add_core_of = ROOT }
				416 = { add_core_of = ROOT }
				414 = { add_core_of = ROOT }
				410 = { add_core_of = ROOT }
			}
			# Afghanistan
			custom_effect_tooltip = form_country_afghanistan_coring_states_tt
			hidden_effect = {
				415 = { add_core_of = ROOT }
				267 = { add_core_of = ROOT }
			}
			# Pakistan
			custom_effect_tooltip = form_country_pakistan_coring_states_tt
			hidden_effect = {
				787 = { add_core_of = ROOT }
				445 = { add_core_of = ROOT }
				442 = { add_core_of = ROOT }
				444 = { add_core_of = ROOT }
				440 = { add_core_of = ROOT }
				441 = { add_core_of = ROOT }
				443 = { add_core_of = ROOT }
			}
			hidden_effect = { set_global_flag = restored_rashid_flag }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	adu_northern_expansion = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "La Resistance"
		}

		available = {
			is_subject = no
			# Azerbaijan
			controls_state = 229
			# Armenia
			controls_state = 230
			# Georgia
			controls_state = 231
			# Grozny
			controls_state = 232
			controls_state = 233
			# Turkey
			controls_state = 350
			controls_state = 352
			controls_state = 353
			controls_state = 354
		}

		visible = {
			has_country_flag = country_formed_andalusia_flag
			has_global_flag = restored_umayyad_flag
			NOT = { has_global_flag = andalusia_north_expansion_flag }
			has_dlc = "La Resistance"
		}

		complete_effect = {
			# Azerbaijan
			229 = { add_core_of = ROOT }
			# Armenia
			230 = { add_core_of = ROOT }
			# Georgia
			231 = { add_core_of = ROOT }
			# Grozny
			232 = { add_core_of = ROOT }
			233 = { add_core_of = ROOT }
			# Turkey
			350 = { add_core_of = ROOT }
			352 = { add_core_of = ROOT }
			353 = { add_core_of = ROOT }
			354 = { add_core_of = ROOT }
			hidden_effect = { set_global_flag = andalusia_north_expansion_flag }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_polynesia_category = {
	
	form_polynesia = {

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = HAW
				original_tag = TAH
				original_tag = GUM
				original_tag = FSM
				original_tag = SAM
				original_tag = SOL
				original_tag = FIJ
				original_tag = NZL
			}
		}

		available = {
			OR = {
				is_subject = no
				has_autonomy_state = autonomy_dominion #New Zealand should be able to do it
			}
			# Polynesia
			controls_state = 284 #North Island
			controls_state = 629 #Hawaii
			controls_state = 684 #Caroline Islands
			controls_state = 638 #Guam
			controls_state = 641 #Tahiti
			controls_state = 646 #Saipan
			controls_state = 723 #South Island
			controls_state = 726 #Samoa
		}

		visible = {
			OR = {
				original_tag = HAW
				original_tag = TAH
				original_tag = GUM
				original_tag = FSM
				original_tag = SAM
				original_tag = SOL
				original_tag = FIJ
				original_tag = NZL
			}
			NOT = { has_global_flag = form_polynesia_flag }
		}

		complete_effect = {
			set_cosmetic_tag = united_polynesia
			# Polynesia
			custom_effect_tooltip = form_country_polynesia_coring_states_tt
			hidden_effect = {
				284 = { add_core_of = ROOT }
				524 = { add_core_of = ROOT } #Taiwan
				629 = { add_core_of = ROOT }
				630 = { add_core_of = ROOT }
				631 = { add_core_of = ROOT }
				632 = { add_core_of = ROOT }
				633 = { add_core_of = ROOT }
				634 = { add_core_of = ROOT }
				635 = { add_core_of = ROOT }
				636 = { add_core_of = ROOT }
				638 = { add_core_of = ROOT }
				639 = { add_core_of = ROOT }
				641 = { add_core_of = ROOT }
				642 = { add_core_of = ROOT }
				643 = { add_core_of = ROOT }
				645 = { add_core_of = ROOT } #Iwo Jima
				646 = { add_core_of = ROOT }
				647 = { add_core_of = ROOT }
				648 = { add_core_of = ROOT }
				684 = { add_core_of = ROOT }
				723 = { add_core_of = ROOT }
				725 = { add_core_of = ROOT }
				726 = { add_core_of = ROOT }
				727 = { add_core_of = ROOT }
				734 = { add_core_of = ROOT }
			}
			hidden_effect = {
				news_event = { id = lar_news.291 hours = 6 }
				set_global_flag = form_polynesia_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
	NZL_demand_islands = {

		icon = generic_form_nation

		allowed = {
			original_tag = NZL
		}

		available = {
			OR = {
				is_subject = no
				has_autonomy_state = autonomy_dominion #New Zealand should be able to do it
			}
			has_completed_focus = NZL_maori_volunteers
			hidden_trigger = {
				NOT = { has_country_flag = is_demanding_flag }
				any_country = {
					NOT = { tag = ROOT }
					is_in_faction_with = ROOT
					NOT = {
						OR = {
							original_tag = HAW
							original_tag = TAH
							original_tag = GUM
							original_tag = FSM
							original_tag = SAM
							original_tag = SOL
							original_tag = FIJ
							original_tag = NZL
						}
					}
					OR = {
						controls_state = 284
						controls_state = 629
						controls_state = 630
						controls_state = 631
						controls_state = 632
						controls_state = 633
						controls_state = 634
						controls_state = 635
						controls_state = 636
						controls_state = 638
						controls_state = 639
						controls_state = 641
						controls_state = 642
						controls_state = 643
						controls_state = 645 #Iwo Jima
						controls_state = 646
						controls_state = 647
						controls_state = 648
						controls_state = 684
						controls_state = 723
						controls_state = 725
						controls_state = 726
						controls_state = 727
						controls_state = 734
					}
					NOT = { has_country_flag = has_been_asked_for_islands_flag }
				}
			}
		}

		visible = {
			original_tag = NZL
			NOT = { has_global_flag = form_polynesia_flag }
			has_completed_focus = NZL_maori_volunteers
			hidden_trigger = {
				NOT = { has_country_flag = is_demanding_flag }
				any_country = {
					NOT = { tag = ROOT }
					is_in_faction_with = ROOT
					NOT = {
						OR = {
							original_tag = HAW
							original_tag = TAH
							original_tag = GUM
							original_tag = FSM
							original_tag = SAM
							original_tag = SOL
							original_tag = FIJ
							original_tag = NZL
						}
					}
					OR = {
						controls_state = 284
						controls_state = 629
						controls_state = 630
						controls_state = 631
						controls_state = 632
						controls_state = 633
						controls_state = 634
						controls_state = 635
						controls_state = 636
						controls_state = 638
						controls_state = 639
						controls_state = 641
						controls_state = 642
						controls_state = 643
						controls_state = 645 #Iwo Jima
						controls_state = 646
						controls_state = 647
						controls_state = 648
						controls_state = 684
						controls_state = 723
						controls_state = 725
						controls_state = 726
						controls_state = 727
						controls_state = 734
					}
					NOT = { has_country_flag = has_been_asked_for_islands_flag }
				}
			}
		}

		complete_effect = {
			random_country = {
				limit = {
					NOT = { tag = ROOT }
					is_in_faction_with = ROOT
					NOT = {
						OR = {
							original_tag = HAW
							original_tag = TAH
							original_tag = GUM
							original_tag = FSM
							original_tag = SAM
							original_tag = SOL
							original_tag = FIJ
							original_tag = NZL
						}
					}
					OR = {
						controls_state = 284
						controls_state = 629
						controls_state = 630
						controls_state = 631
						controls_state = 632
						controls_state = 633
						controls_state = 634
						controls_state = 635
						controls_state = 636
						controls_state = 638
						controls_state = 639
						controls_state = 641
						controls_state = 642
						controls_state = 643
						controls_state = 645 #Iwo Jima
						controls_state = 646
						controls_state = 647
						controls_state = 648
						controls_state = 684
						controls_state = 723
						controls_state = 725
						controls_state = 726
						controls_state = 727
						controls_state = 734
					}
					hidden_trigger = { NOT = { has_country_flag = has_been_asked_for_islands_flag } }
				}
				save_event_target_as = new_zealand_island_demand_target
			}
			event_target:new_zealand_island_demand_target = {
				country_event = { id = tfv_new_zealand.9 days = 3 }
				set_country_flag = has_been_asked_for_islands_flag
			}
		}

		ai_will_do = {
			factor = 0
		}
	}
}

form_greater_greece_category = {

	form_greater_greece = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				controls_state = 185
				controls_state = 731
				controls_state = 47
				controls_state = 186
				controls_state = 184
				controls_state = 187
				controls_state = 182
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkish_coastal_required_states_tt
				controls_state = 797
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 347
			}
			# Dodecanese
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				custom_trigger_tooltip = {
					tooltip = form_country_dodecanese_required_state_tt
					controls_state = 164
				}
			}
			# Cyprus
			if = {
				limit = {
					NOT = { has_government = democratic }
				}
				custom_trigger_tooltip = {
					tooltip = form_country_cyprus_required_state_tt
					controls_state = 183
				}
			}
		}

		visible = {
			NOT = { has_global_flag = form_greater_greece_flag }
			OR = { 
				AND = {
					has_completed_focus = GRE_the_modern_movement
					has_country_leader = {
						character = GRE_ioannis_metaxas
						ruling_only = yes
					}
				}
				AND = { 
					has_completed_focus = GRE_resurrecting_the_megali_idea
					NOT = { 
						has_country_leader = {
							character = GRE_georgios_kosmidis
							ruling_only = yes
						}
					}
				}
				has_completed_focus = GRE_prepare_for_the_great_anti_fascist_war
			}
		}

		complete_effect = {
			set_country_flag = GRE_GREATER_GREECE_flag
			GRE_set_appropriate_cosmetic_tag = yes
			# Greece
			custom_effect_tooltip = form_country_greece_coring_states_tt
			hidden_effect = {
				185 = { add_core_of = ROOT }
				731 = { add_core_of = ROOT }
				47 = { add_core_of = ROOT }
				186 = { add_core_of = ROOT }
				184 = { add_core_of = ROOT }
				187 = { add_core_of = ROOT }
				182 = { add_core_of = ROOT }
				164 = { add_core_of = ROOT }
				183 = { add_core_of = ROOT }
			}
			# Turkey
			custom_effect_tooltip = form_country_turkish_coast_coring_states_tt
			hidden_effect = {
				340 = { add_core_of = ROOT }
				340 = { set_state_name = "Prousa" }
				set_province_name = { id = 947 name = "Prousa" } 
				set_province_name = { id = 947 name = "Palaeokastron" }
				341 = { add_core_of = ROOT }
				341 = { set_state_name = "Thrace" }
				set_province_name = { id = 11842 name = "Adrianople" }
				797 = { add_core_of = ROOT }
				797 = { set_state_name = "Constantinople" }
				set_province_name = { id = 9833 name = "Constantinople" }
				184 = { set_state_name = "Eastern Macedonia" }
				339 = { add_core_of = ROOT }
				339 = { set_state_name = "Smyrni" }
				set_province_name = { id = 4112 name = "Smyrna" }
				set_province_name = { id = 928 name = "Magnesia" }
				347 = { add_core_of = ROOT }
				347 = { set_state_name = "Nikomedeia" }
				set_province_name = { id = 11811 name = "Nikomedeia" }
				set_province_name = { id = 904 name = "Kieros" }
				if = {
					limit = {
						controls_state = 342
					}
					342 = { add_core_of = ROOT }
					342 = { set_state_name = "Attalis" }
					set_province_name = { id = 1005 name = "Attaleia" }
				}
			}
			# Cyprus
			custom_effect_tooltip = form_country_cyprus_coring_state_tt
			hidden_effect = {
				183 = { add_core_of = ROOT }
			}
			hidden_effect = {
				805 = { add_core_of = ROOT }
			}
			hidden_effect = {
				if = {
					limit = {
						has_government = democratic
					}
					news_event = { id = bftb_news.302 hours = 6 } 
				}
				set_global_flag = form_greater_greece_flag
				set_country_flag = achivement_istanbul_is_constantinople_again
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	GRE_appoint_aristotle_onassis_as_prime_minister = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			AND = {
				has_government = democratic
				has_completed_focus = GRE_nenikikamen
			}
		}

		visible = {
			has_global_flag = form_greater_greece_flag
		}

		fire_only_once = yes

		complete_effect = {
			retire_country_leader = yes
			add_country_leader_role = {
				character = GRE_aristotle_onassis
				country_leader = {
					expire = "1965.1.1"
					ideology = liberalism
					traits = {
						the_young_magnate
					}
				}
				promote_leader = yes
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	rename_antalya = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 342
			# Dodecanese
			custom_trigger_tooltip = {
				tooltip = form_country_dodecanese_required_state_tt
				controls_state = 164
			}
		}

		visible = {
			has_global_flag = form_greater_greece_flag
			NOT = { 342 = { is_core_of = ROOT } }
		}

		fire_only_once = yes

		complete_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			342 = { add_core_of = ROOT }
			342 = { set_state_name = "Attalis" }
			set_province_name = { id = 1005 name = "Attaleia" }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	rename_gjirokaster = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 805
		}

		visible = {
			has_global_flag = form_greater_greece_flag
		}

		fire_only_once = yes

		complete_effect = {
			add_stability = 0.05
			add_war_support = 0.05
			set_province_name = { id = 914 name = "Argyrokastro" }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	move_capital_to_constantinople = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 797
		}

		visible = {
			has_global_flag = form_greater_greece_flag
			NOT = { has_country_flag = GRE_chose_a_new_capital_city }
		}

		fire_only_once = yes

		complete_effect = {
			add_war_support = 0.05
			set_capital = { state = 797 }
			hidden_effect = {
				set_country_flag = GRE_chose_a_new_capital_city
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	move_capital_to_thessaloniki = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			if = { 
				limit = {
					has_government = democratic
				}
				has_completed_focus = GRE_nenikikamen
			}
			controls_state = 797
		}

		visible = {
			has_global_flag = form_greater_greece_flag
			NOT = { has_country_flag = GRE_chose_a_new_capital_city }
		}

		fire_only_once = yes

		complete_effect = {
			add_stability = 0.1
			set_capital = { state = 731 }
			hidden_effect = {
				set_country_flag = GRE_chose_a_new_capital_city
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_macedonian_empire_category = {

	form_macedonian_empire = {

		icon = generic_form_nation

		allowed = {
			original_tag = GRE
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			# Greece
			custom_trigger_tooltip = {
				tooltip = form_country_greece_required_states_tt
				controls_state = 185
				controls_state = 731
				controls_state = 47
				controls_state = 186
				controls_state = 184
				controls_state = 187
				controls_state = 182
			}
			# Macedonia [ Bulgaria / Yugoslav Macedonia / Albania ]
			custom_trigger_tooltip = {
				tooltip = form_country_southern_yugoslavia_required_states_tt
				controls_state = 48
				controls_state = 212
				controls_state = 801
				controls_state = 211
				controls_state = 106
				controls_state = 803
				controls_state = 105
				controls_state = 44
				controls_state = 805
			}
			# Iran
			custom_trigger_tooltip = {
				tooltip = form_country_iran_required_states_tt
				controls_state = 419
				controls_state = 421
				controls_state = 420
				controls_state = 417
				controls_state = 413
				controls_state = 266
				controls_state = 418
				controls_state = 411
				controls_state = 412
				controls_state = 416
				controls_state = 414
				controls_state = 410
			}
			# Afghanistan
			custom_trigger_tooltip = {
				tooltip = form_country_afghanistan_required_states_tt
				controls_state = 415
				controls_state = 267
			}
			# Central Asia
			custom_trigger_tooltip = {
				tooltip = form_country_southern_central_asia_required_states_tt
				controls_state = 742 # Tajikistan
				controls_state = 405 # Uzbekistan
				controls_state = 732 # Kyrgyzstan
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_iraq_required_states_tt
				controls_state = 676
				controls_state = 675
				controls_state = 291
			}
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 342
				controls_state = 343
				controls_state = 347
				controls_state = 49
				controls_state = 346
				controls_state = 345
				controls_state = 356
				controls_state = 348
				controls_state = 344
				controls_state = 355
				controls_state = 349
				controls_state = 350
				controls_state = 354
				controls_state = 353
				controls_state = 352
			}
			# France: Syria
			custom_trigger_tooltip = {
				tooltip = form_persia_france_required_states_tt
				controls_state = 677
				controls_state = 680
				controls_state = 553
				controls_state = 554
			}
			# Britain: Egypt
			custom_trigger_tooltip = {
				tooltip = form_country_egypt_required_states_tt
				controls_state = 452
				controls_state = 447
				controls_state = 446
				controls_state = 456
				controls_state = 453
				controls_state = 457
			}
			# Britain: Levant / Kuwait
			custom_trigger_tooltip = {
				tooltip = form_country_british_levant_required_states_tt
				controls_state = 454
				controls_state = 455
				controls_state = 656
			}
			# Raj / Punjab
			custom_trigger_tooltip = {
				tooltip = form_country_punjab_required_states_tt
				controls_state = 440
				controls_state = 443
				controls_state = 441
				controls_state = 787
				controls_state = 442
				controls_state = 445
				controls_state = 444
			}
		}

		visible = {
			original_tag = GRE
			OR = {
				AND = {
					has_completed_focus = GRE_moulding_the_new_world_order
					has_country_leader = {
						character = GRE_george_mercouris
						ruling_only = yes
					}
				}
				AND = {
					has_completed_focus = GRE_protectors_of_the_mediterranean
					has_country_leader = {
						name = "George II"
						ruling_only = yes
					}
				}
			}
			NOT = { has_global_flag = form_macedonian_empire_flag }
		}

		complete_effect = {
			set_country_flag = GRE_mae_flag
			GRE_set_appropriate_cosmetic_tag = yes
			# Iran
			custom_effect_tooltip = form_country_iran_coring_states_tt
			hidden_effect = {
				419 = { add_core_of = ROOT }
				421 = { add_core_of = ROOT }
				420 = { add_core_of = ROOT }
				417 = { add_core_of = ROOT }
				413 = { add_core_of = ROOT }
				266 = { add_core_of = ROOT }
				418 = { add_core_of = ROOT }
				411 = { add_core_of = ROOT }
				412 = { add_core_of = ROOT }
				416 = { add_core_of = ROOT }
				414 = { add_core_of = ROOT }
				410 = { add_core_of = ROOT }
			}
			# Afghanistan
			custom_effect_tooltip = form_country_afghanistan_coring_states_tt
			hidden_effect = {
				415 = { add_core_of = ROOT }
				267 = { add_core_of = ROOT }
			}
			# Iraq
			custom_effect_tooltip = form_country_iraq_coring_states_tt
			hidden_effect = {
				676 = { add_core_of = ROOT }
				675 = { add_core_of = ROOT }
				291 = { add_core_of = ROOT }
			}
			# Turkey
			custom_effect_tooltip = form_country_turkey_coring_states_tt
			hidden_effect = {
				341 = { add_core_of = ROOT }
				340 = { add_core_of = ROOT }
				339 = { add_core_of = ROOT }
				342 = { add_core_of = ROOT }
				343 = { add_core_of = ROOT }
				347 = { add_core_of = ROOT }
				49 = { add_core_of = ROOT }
				346 = { add_core_of = ROOT }
				345 = { add_core_of = ROOT }
				356 = { add_core_of = ROOT }
				348 = { add_core_of = ROOT }
				344 = { add_core_of = ROOT }
				355 = { add_core_of = ROOT }
				349 = { add_core_of = ROOT }
				350 = { add_core_of = ROOT }
				354 = { add_core_of = ROOT }
				353 = { add_core_of = ROOT }
				352 = { add_core_of = ROOT }
			}
			# France
			custom_effect_tooltip = form_persia_france_coring_states_tt
			hidden_effect = {
				677 = { add_core_of = ROOT }
				680 = { add_core_of = ROOT }
				553 = { add_core_of = ROOT }
				554 = { add_core_of = ROOT }
			}
			# Italy
			custom_effect_tooltip = form_persia_italy_coring_states_tt
			hidden_effect = {
				164 = { add_core_of = ROOT }
				450 = { add_core_of = ROOT }
				451 = { add_core_of = ROOT }
				663 = { add_core_of = ROOT }
			}
			# Britain
			custom_effect_tooltip = form_persia_britain_coring_states_tt
			hidden_effect = {
				452 = { add_core_of = ROOT }
				447 = { add_core_of = ROOT }
				446 = { add_core_of = ROOT }
				456 = { add_core_of = ROOT }
				457 = { add_core_of = ROOT }
				453 = { add_core_of = ROOT }
				454 = { add_core_of = ROOT }
				455 = { add_core_of = ROOT }
				183 = { add_core_of = ROOT }
				656 = { add_core_of = ROOT }
				118 = { add_core_of = ROOT }
			}
			hidden_effect = {
				set_global_flag = form_macedonian_empire_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}


form_turan_category = {

	form_turan = {

		icon = generic_form_nation

		allowed = {
			original_tag = TUR
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			# Turkey
			custom_trigger_tooltip = {
				tooltip = form_country_turkey_required_states_tt
				controls_state = 797
				controls_state = 341
				controls_state = 340
				controls_state = 339
				controls_state = 342
				controls_state = 343
				controls_state = 347
				controls_state = 49
				controls_state = 798
				controls_state = 346
				controls_state = 345
				controls_state = 356
				controls_state = 348
				controls_state = 344
				controls_state = 355
				controls_state = 349
				controls_state = 350
				controls_state = 354
				controls_state = 353
				controls_state = 352
				controls_state = 800
			}
			# Syria
			custom_trigger_tooltip = {
				tooltip = form_country_turan_syria_required_states_tt
				controls_state = 677
				controls_state = 680
			}
			# Iraq
			custom_trigger_tooltip = {
				tooltip = form_country_turan_iraq_required_states_tt
				controls_state = 676
			}
			# Persia
			custom_trigger_tooltip = {
				tooltip = form_country_turan_iran_required_states_tt
				controls_state = 421
				controls_state = 419
				controls_state = 420
				controls_state = 417
				controls_state = 413
				controls_state = 266
				controls_state = 416
			}
			# Azerbaijan
			custom_trigger_tooltip = {
				tooltip = form_country_turan_azerbaijan_required_states_tt
				controls_state = 229
			}
			# Kuban Region + Crimea
			custom_trigger_tooltip = {
				tooltip = form_country_turan_kuban_crimea_required_states_tt
				controls_state = 233
				controls_state = 232
				controls_state = 235
				controls_state = 234
				controls_state = 237
				controls_state = 238
				controls_state = 236
				controls_state = 407
				controls_state = 406
				controls_state = 218
				controls_state = 227
				controls_state = 228
				controls_state = 200
				controls_state = 196
				controls_state = 137
			}
			# Urals + Central Asia
			custom_trigger_tooltip = {
				tooltip = form_country_turan_urals_central_asia_required_states_tt
				controls_state = 582
				controls_state = 402
				controls_state = 583
				controls_state = 587
				controls_state = 585
				controls_state = 584
				controls_state = 405
				controls_state = 404
				controls_state = 586
				controls_state = 732
				controls_state = 742
				controls_state = 589
				controls_state = 588
				controls_state = 590
				controls_state = 570
				controls_state = 571
				controls_state = 823
				controls_state = 832
				controls_state = 831
				controls_state = 830
			}
			# Siberia
			custom_trigger_tooltip = {
				tooltip = form_country_turan_siberia_required_states_tt
				controls_state = 654
				controls_state = 40
				controls_state = 569
				controls_state = 568
				controls_state = 329
				controls_state = 567
				controls_state = 566
				controls_state = 564
				controls_state = 563
				controls_state = 565
				controls_state = 561
				controls_state = 574
				controls_state = 576
				controls_state = 562
				controls_state = 644
				controls_state = 637
				controls_state = 822
			}
		}

		visible = {
			original_tag = TUR
			has_completed_focus = TUR_turanist_ambition
			NOT = { has_global_flag = form_turan_flag }
		}

		complete_effect = {
			set_country_flag = TUR_trn_flag
			TUR_set_appropriate_cosmetic_tag = yes
			hidden_effect = {
				news_event = { id = bftb_news.209 hours = 6 }
				#TURKEY
				797 = { add_core_of = TUR }
				341 = { add_core_of = TUR }
				340 = { add_core_of = TUR }
				339 = { add_core_of = TUR }
				342 = { add_core_of = TUR }
				343 = { add_core_of = TUR }
				347 = { add_core_of = TUR }
				49 = { add_core_of = TUR }
				798 = { add_core_of = TUR }
				346 = { add_core_of = TUR }
				345 = { add_core_of = TUR }
				356 = { add_core_of = TUR }
				348 = { add_core_of = TUR }
				344 = { add_core_of = TUR }
				355 = { add_core_of = TUR }
				349 = { add_core_of = TUR }
				350 = { add_core_of = TUR }
				354 = { add_core_of = TUR }
				353 = { add_core_of = TUR }
				352 = { add_core_of = TUR }
				800 = { add_core_of = TUR }
				799 = { add_core_of = TUR }
				#SYRIA
				677 = { add_core_of = TUR }
				680 = { add_core_of = TUR }
				#IRAQ
				676 = { add_core_of = TUR }
				291 = { add_core_of = TUR }
				#PERSIA
				421 = { add_core_of = TUR }
				419 = { add_core_of = TUR }
				420 = { add_core_of = TUR }
				417 = { add_core_of = TUR }
				413 = { add_core_of = TUR }
				266 = { add_core_of = TUR }
				416 = { add_core_of = TUR }
				#AZERBAIJAN
				229 = { add_core_of = TUR }
				#KUBAN REGION + CRIMEA
				233 = { add_core_of = TUR }
				232 = { add_core_of = TUR }
				235 = { add_core_of = TUR }
				234 = { add_core_of = TUR }
				237 = { add_core_of = TUR }
				238 = { add_core_of = TUR }
				236 = { add_core_of = TUR }
				407 = { add_core_of = TUR }
				406 = { add_core_of = TUR }
				218 = { add_core_of = TUR }
				227 = { add_core_of = TUR }
				228 = { add_core_of = TUR }
				200 = { add_core_of = TUR }
				196 = { add_core_of = TUR }
				137 = { add_core_of = TUR }
				821 = { add_core_of = TUR }
				826 = { add_core_of = TUR }
				827 = { add_core_of = TUR }
				828 = { add_core_of = TUR }
				#URALS + CENTRAL ASIA
				582 = { add_core_of = TUR }
				402 = { add_core_of = TUR }
				583 = { add_core_of = TUR }
				587 = { add_core_of = TUR }
				585 = { add_core_of = TUR }
				584 = { add_core_of = TUR }
				405 = { add_core_of = TUR }
				404 = { add_core_of = TUR }
				586 = { add_core_of = TUR }
				732 = { add_core_of = TUR }
				742 = { add_core_of = TUR }
				589 = { add_core_of = TUR }
				588 = { add_core_of = TUR }
				590 = { add_core_of = TUR }
				830 = { add_core_of = TUR }
				823 = { add_core_of = TUR }
				831 = { add_core_of = TUR }
				832 = { add_core_of = TUR }
				#SIBERIA
				654 = { add_core_of = TUR }
				40 = { add_core_of = TUR }
				569 = { add_core_of = TUR }
				568 = { add_core_of = TUR }
				329 = { add_core_of = TUR }
				567 = { add_core_of = TUR }
				566 = { add_core_of = TUR }
				564 = { add_core_of = TUR }
				563 = { add_core_of = TUR }
				565 = { add_core_of = TUR }
				561 = { add_core_of = TUR }
				574 = { add_core_of = TUR }
				575 = { add_core_of = TUR }
				576 = { add_core_of = TUR }
				562 = { add_core_of = TUR }
				644 = { add_core_of = TUR }
				637 = { add_core_of = TUR }
				822 = { add_core_of = TUR }
				set_global_flag = form_turan_flag
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	integrate_the_magyars = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			has_global_flag = form_turan_flag
			# Hungary + Slovakia
			controls_state = 155
			controls_state = 43
			controls_state = 154
			controls_state = 664
			# Romania + Banat
			controls_state = 76
			controls_state = 84
			controls_state = 82
			controls_state = 764
			controls_state = 45
			controls_state = 78
		}

		visible = {
			has_completed_focus = TUR_subdue_the_magyars
		}

		fire_only_once = yes

		complete_effect = {
			# Hungary
			155 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			43 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			154 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			664 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			# Romania
			76 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			84 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			82 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			78 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			764 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			45 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	assimilate_the_chinese_turks = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			has_global_flag = form_turan_flag
			# Sinkiang
			controls_state = 619
			controls_state = 287
			controls_state = 759
			controls_state = 760
			controls_state = 617
			controls_state = 618
			# Xibei San Ma
			controls_state = 604
			controls_state = 755
			controls_state = 756
			controls_state = 754
			controls_state = 283
			controls_state = 753
			controls_state = 616
			# Nationalist China
			controls_state = 752
			controls_state = 751
			controls_state = 601
			# Mongolia / Manchuria
			controls_state = 330
			controls_state = 817
			controls_state = 818
			controls_state = 819
			controls_state = 820
			controls_state = 612
			controls_state = 611
			controls_state = 621
			controls_state = 761
			controls_state = 714
			controls_state = 717
		}

		visible = {
			has_completed_focus = TUR_cin_turkleri
		}

		fire_only_once = yes

		complete_effect = {
			# Sinkiang
			619 = { add_core_of = ROOT }
			287 = { add_core_of = ROOT }
			759 = { add_core_of = ROOT }
			760 = { add_core_of = ROOT }
			617 = { add_core_of = ROOT }
			618 = { add_core_of = ROOT }
			# China
			604 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			755 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			756 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			754 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			283 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			753 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			616 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			752 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			751 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			601 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			612 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			611 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			621 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			761 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			714 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			717 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			#Mongolia
			330 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			817 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			818 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			819 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			820 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	unite_with_the_finno_ugrians = {

		icon = generic_form_nation

		allowed = {
			has_dlc = "Battle for the Bosporus"
		}

		available = {
			is_subject = no
			has_global_flag = form_turan_flag
			# Finland + Karelia
			controls_state = 111
			controls_state = 150
			controls_state = 149
			controls_state = 148
			controls_state = 146
			controls_state = 216
			controls_state = 215
			controls_state = 147
			controls_state = 722
			controls_state = 213
			# Estonia
			controls_state = 13
			controls_state = 191
			controls_state = 813
			controls_state = 812
			controls_state = 811
		}

		visible = {
			has_completed_focus = TUR_crowning_ourselves_with_the_fin_ugor
		}

		fire_only_once = yes

		complete_effect = {
			#FINLAND + KARELIA
			111 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			150 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			149 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			148 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			146 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			216 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			215 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			147 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			722 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			213 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			#ESTONIA
			13 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			191 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			811 = { add_dynamic_modifier = { modifier = turanist_assimilation } }
			812 = { add_dynamic_modifier = { modifier = turanist_assimilation } }	
			813 = { add_dynamic_modifier = { modifier = turanist_assimilation } }			
			
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_turkestan_category = {
	
	form_turkestan = {

		icon = generic_form_nation

		available = {
			is_subject = no
			FROM = {
				is_controlled_by = ROOT
			}
			set_temp_variable = { v_integration_in_turkestan_cost = FROM.state_population_k }
			divide_temp_variable = { v_integration_in_turkestan_cost = FROM.compliance }
			add_to_temp_variable = { v_integration_in_turkestan_cost = FROM.resistance }
			If = {
				limit = {
					FROM = {
						is_claimed_by = ROOT
					}
				}
				divide_temp_variable = { v_integration_in_turkestan_cost = 2 }
			}
			IF = {
				limit = {
					FROM = {
						is_core_of = ROOT
						is_capital = yes
					}
				}
				set_temp_variable = { v_integration_in_turkestan_cost = 0 }
			}
		}

		visible = {
			ROOT = {
				OR = {
					original_tag = TAN # Tannu Tuva
					original_tag = KAZ # Kazakhstan
					original_tag = UZB # Uzbekistan
					original_tag = KYR # Kyrgyzstan
					original_tag = TMS # Turkmenistan
					original_tag = SIK # Sinkiang
					original_tag = BUK # Bukhara
					original_tag = KHA # Khakassia
					original_tag = KHI # Khiva
					original_tag = KKP # Karakalpakstan
				}
			}
			OR = {
				AND = {
					FROM = {
						OR = {
							is_core_of = TAN
							is_core_of = KAZ
							is_core_of = UZB
							is_core_of = KYR
							is_core_of = TMS
							is_core_of = SIK
							is_core_of = BUK
							is_core_of = KHA
							is_core_of = KHI
							is_core_of = KKP
							is_core_of = ALT
							state = 818
						}
						is_controlled_by = ROOT
						NOT = { is_core_of = ROOT }
					}
				}
				AND = {
					TAN = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					KAZ = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					UZB = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					KYR = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					TMS = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					SIK = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					BUK = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					KHA = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					KHI = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					KKP = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					ALT = {
						all_core_state = {
							is_core_of = ROOT
						}
					}
					818 = {
						is_core_of = ROOT
					}
					FROM = {
						is_owned_and_controlled_by = ROOT
						is_core_of = ROOT
						is_capital = YES
					}
				}
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					OR = {
						is_core_of = TAN
						is_core_of = KAZ
						is_core_of = UZB
						is_core_of = KYR
						is_core_of = TMS
						is_core_of = SIK
						is_core_of = BUK
						is_core_of = KHA
						is_core_of = KHI
						is_core_of = KKP
						is_core_of = ALT
						state = 818
					}
					OR = {
						NOT = { is_core_of = ROOT }
						AND = {
							is_capital = YES
							is_core_of = ROOT
						}
					}
				}
			}
		}
		
		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_in_turkestan_cost

		complete_effect = {
			FROM = {
				if = {
					limit = {
						is_claimed_by = ROOT
					}
					remove_claim_by = ROOT
				}
				if = {
					limit = {
						is_core_of = SOV
					}
					remove_core_of = SOV
					add_claim_by = SOV
				}
				if = {
					limit = {
						NOT = {
							is_core_of = ROOT
						}
					}
					add_core_of = ROOT
				}
				if = {
					limit = {
						NOT = {
							is_owned_by = ROOT
						}
					}
					set_state_owner_to = ROOT
				}
			}
			IF = {
				limit = {
					FROM = {
						is_core_of = ROOT
						is_capital = YES
					}
				}
				every_country = {
					every_character = {
						limit = {
							OR = {
								has_nationality = TAN
								has_nationality = KAZ
								has_nationality = UZB
								has_nationality = KYR
								has_nationality = TMS
								has_nationality = SIK
								has_nationality = BUK
								has_nationality = KHA
								has_nationality = KHI
								has_nationality = KKP
								has_nationality = ALT
							}
						}
						set_nationality = ROOT
					}
				}
				every_possible_country = {
					limit = {
						has_cosmetic_tag = turkestan_united
					}
					drop_cosmetic_tag = yes
				}
				ROOT = {
					set_cosmetic_tag = turkestan_united
					hidden_effect = {
						news_event = { id = nsb_news.3 hours = 6 }
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 200
				FROM = {
					has_active_resistance = no
					NOT = {
						compliance < 100
					}
				}
			}
		}
	}
}


form_caucasian_gambit_category = {

	form_mountainous_republic = { 

		icon = generic_form_nation

		available = {
			is_subject = no
			any_controlled_state = {
				OR = {
					is_core_of = ABK
					is_core_of = CIN
					is_core_of = DAG
					is_core_of = KBK
					is_core_of = NOA
					state = 233
				}
			}
		}

		visible = {
			OR = {
				original_tag = ABK # Abkhazia
				original_tag = CIN # Chechnya-Ingushetia
				original_tag = DAG # Dagestan
				original_tag = KBK # Kabardino-Balkaria
				original_tag = NOA # North Ossetia-Alania
				has_cosmetic_tag = transcaucasia_unified
			}
			any_controlled_state = {
				OR = {
					is_core_of = ABK
					is_core_of = CIN
					is_core_of = DAG
					is_core_of = KBK
					is_core_of = NOA
					state = 233
				}
				NOT = {
					is_core_of = ROOT
				}
			}
		}

		complete_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						is_core_of = ABK
						is_core_of = CIN
						is_core_of = DAG
						is_core_of = KBK
						is_core_of = NOA
						state = 233
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				remove_core_of = SOV
				add_claim_by = SOV
				add_core_of = ROOT
				transfer_state_to = ROOT
			}
			if = {
				limit = {
					ABK = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					CIN = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					DAG = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					KBK = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					NOA = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					233 = {
						is_controlled_by = ROOT
					}
				}
				if = {
					limit = {
						ROOT = {
							NOT = {
								has_cosmetic_tag = transcaucasia_unified
							}
						}
					}
					every_possible_country = {
						limit = {
							has_cosmetic_tag = mountainous_republics_unified
						}
						drop_cosmetic_tag = yes
					}
					ROOT = {
						set_cosmetic_tag = mountainous_republics_unified
					}
					hidden_effect = { 
						news_event = { id = nsb_news.301 hours = 8 }
					}
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	form_transcaucasian_republic = { 

		icon = generic_form_nation

		available = {
			is_subject = no
			any_controlled_state = {
				OR = {
					is_core_of = ABK
					is_core_of = ARM
					AND = {
						is_core_of = AZR
						NOT = {
							state = 419
							state = 420
						}
					}
					is_core_of = GEO
				}
			}
		}

		visible = {
			OR = {
				original_tag = ABK # Abkhazia
				original_tag = ARM # Armenia
				original_tag = AZR # Azerbaijan
				original_tag = GEO # Georgia
				has_cosmetic_tag = mountainous_republics_unified
			}
			any_controlled_state = {
				OR = {
					is_core_of = ABK
					is_core_of = ARM
					AND = {
						is_core_of = AZR
						NOT = {
							state = 419
							state = 420
						}
					}
					is_core_of = GEO
				}
				NOT = {
					is_core_of = ROOT
				}
			}
		}

		complete_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						is_core_of = ABK
						is_core_of = ARM
						AND = {
							is_core_of = AZR
							NOT = {
								state = 419
								state = 420
							}
						}
						is_core_of = GEO
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				remove_core_of = SOV
				add_claim_by = SOV
				add_core_of = ROOT
				transfer_state_to = ROOT
			}
			if = {
				limit = {
					ABK = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					ARM = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					NOA = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
					AZR = {
						all_core_state = {
							NOT = {
								state = 419
								state = 420
							}
							is_controlled_by = ROOT
						}
					}
					GEO = {
						all_core_state = {
							is_controlled_by = ROOT
						}
					}
				}
				if = {
					limit = {
						ROOT = {
							NOT = {
								has_cosmetic_tag = mountainous_republics_unified
							}
						}
					}
					every_possible_country = {
						limit = {
							has_cosmetic_tag = transcaucasia_unified
						}
						drop_cosmetic_tag = yes
					}
					ROOT = {
						set_cosmetic_tag = transcaucasia_unified
					}
					hidden_effect = { 
						news_event = { id = nsb_news.302 hours = 8 }
					}
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	expand_north = {

		icon = generic_form_nation

		available = {
			is_subject = no
			any_state = {
				OR = {
					state = 234
					state = 235
				}
				NOT = {
					is_core_of = ROOT
				}
				is_controlled_by = ROOT
			}
		}

		visible = {
			OR = {
				has_cosmetic_tag = mountainous_republics_unified
				has_cosmetic_tag = transcaucasia_unified
			}
			any_state = {
				OR = {
					state = 234
					state = 235
				}
				NOT = {
					is_core_of = ROOT
				}
			}
		}

		complete_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 234
						state = 235
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				remove_core_of = SOV
				add_claim_by = SOV
				add_core_of = ROOT
				transfer_state_to = ROOT
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	unite_azeris = {  

		icon = generic_form_nation

		available = {
			is_subject = no
			AZR = {
				all_core_state = {
					is_controlled_by = ROOT
				}
			}
		}

		visible = {
			OR = {
				has_cosmetic_tag = mountainous_republics_unified
				has_cosmetic_tag = transcaucasia_unified
			}
			AZR = {
				any_core_state = {
					NOT = {
						is_core_of = ROOT
					}
				}
			}
		}

		complete_effect = {
			AZR = {
				every_core_state = {
					remove_core_of = PER
					add_claim_by = PER
					add_core_of = ROOT
					transfer_state_to = ROOT
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	liberate_anatolian_peoples = {  

		icon = generic_form_nation

		available = {
			is_subject = no
			any_state = {
				OR = {
					state = 354
					state = 800
				}
				NOT = {
					is_core_of = ROOT
				}
				is_controlled_by = ROOT
			}
		}

		visible = {
			OR = {
				has_cosmetic_tag = mountainous_republics_unified
				has_cosmetic_tag = transcaucasia_unified
			}
			any_state = {
				OR = {
					state = 354
					state = 800
				}
				NOT = {
					is_core_of = ROOT
				}
			}
		}

		complete_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 354
						state = 800
					}
					NOT = {
						is_core_of = ROOT
					}
				}
				remove_core_of = TUR
				add_claim_by = TUR
				add_core_of = ROOT
				transfer_state_to = ROOT
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	
	
	restore_kalmyks = {  

		icon = generic_form_nation

		available = {
			is_subject = no
			any_state = {
				region  = 135
				is_core_of = KAL
				NOT = {
					is_core_of = ROOT
				}
			}
		}

		visible = {
			OR = {
				has_cosmetic_tag = mountainous_republics_unified
				has_cosmetic_tag = transcaucasia_unified
			}
			any_state = {
				region  = 135
				is_core_of = KAL
				is_controlled_by = ROOT
			}
		}

		complete_effect = {
			if = {
				limit = {
					KAL = {
						exists = no
					}
				}
				every_controlled_state = {
					limit = {
						region  = 135
						NOT = {
							is_core_of = ROOT
						}
					}
					remove_core_of = SOV
					add_claim_by = SOV
					add_core_of = KAL
				}
				release_on_controlled = KAL
				ROOT = {
					puppet = KAL
				}
				load_oob = "KAL_khanate_battalions"
			}
			else = {
				every_controlled_state = {
					limit = {
						region  = 135
						NOT = {
							is_core_of = ROOT
						}
					}
					remove_core_of = SOV
					add_claim_by = SOV
					add_core_of = KAL
					transfer_state_to = KAL
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

form_siberia_category = {
	
	form_siberian = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = YAK # Yakutia
				original_tag = FER # Far Eastern Republic
				original_tag = CKK # Chukotka
				original_tag = VLA # Vladivostok
				original_tag = BYA # Buryatia
				original_tag = TAY # Taymyria
				original_tag = ALT # Altai
				original_tag = YAM # Yamalia
				original_tag = OVO # Ostyak-Vogulia
				original_tag = TAN # Tannu Tuva
				original_tag = MAN
				original_tag = MON
				original_tag = MEN
			}
		}

		available = {
			is_subject = no
			FROM = {
				is_controlled_by = ROOT
				set_temp_variable = { v_integration_in_siberian_republic_cost = FROM.state_population_k }
				divide_temp_variable = { v_integration_in_siberian_republic_cost = FROM.compliance }
				add_to_temp_variable = { v_integration_in_siberian_republic_cost = FROM.resistance }
				IF = {
					limit = {
						FROM = {
							is_claimed_by = ROOT
						}
					}
					divide_temp_variable = { v_integration_in_siberian_republic_cost = 2 }
				}
				IF = {
					limit = {
						FROM = {
							is_core_of = ROOT
							is_core_of = SOV
						}
					}
					set_temp_variable = { v_integration_in_siberian_republic_cost = 0 }
				}
				IF = {
					limit = {
						FROM = {
							is_core_of = ROOT
							is_capital = yes
						}
					}
					set_temp_variable = { v_integration_in_siberian_republic_cost = 0 }
				}
			}
		}

		visible = {
			ROOT = {
				OR = {
					original_tag = YAK # Yakutia
					original_tag = FER # Far Eastern Republic
					original_tag = CKK # Chukotka
					original_tag = VLA # Vladivostok
					original_tag = BYA # Buryatia
					original_tag = TAY # Taymyria
					original_tag = ALT # Altai
					original_tag = YAM # Yamalia
					original_tag = OVO # Ostyak-Vogulia
					original_tag = TAN # Tannu Tuva
					AND = {
						original_tag = MAN
						has_completed_focus = MAN_civic_nationalism
					}
					original_tag = MON
					original_tag = MEN
				}
			}
			OR = {
				FROM = {
					OR = {
						state = 40
						state = 329
						state = 403
						state = 408
						state = 409
						state = 516
						state = 560
						state = 561
						state = 562
						state = 563
						state = 564
						state = 565
						state = 566
						state = 567
						state = 568
						state = 569
						state = 570
						state = 571
						state = 572
						state = 573
						state = 574
						state = 575
						state = 576
						state = 577
						state = 578
						state = 579
						state = 580
						state = 582
						state = 637
						state = 644
						state = 653
						state = 654
						state = 655
						state = 657
						state = 822
						state = 824
						state = 874
						state = 876
						state = 877
						state = 878
					}
					is_controlled_by = ROOT
					NOT = {
						is_core_of = ROOT
					}
				}
				AND = {
					40 = { is_core_of = ROOT }
					329 = { is_core_of = ROOT }
					403 = { is_core_of = ROOT }
					408 = { is_core_of = ROOT }
					409 = { is_core_of = ROOT }
					516 = { is_core_of = ROOT }
					560 = { is_core_of = ROOT }
					561 = { is_core_of = ROOT }
					562 = { is_core_of = ROOT }
					563 = { is_core_of = ROOT }
					564 = { is_core_of = ROOT }
					565 = { is_core_of = ROOT }
					566 = { is_core_of = ROOT }
					567 = { is_core_of = ROOT }
					568 = { is_core_of = ROOT }
					569 = { is_core_of = ROOT }
					570 = { is_core_of = ROOT }
					571 = { is_core_of = ROOT }
					572 = { is_core_of = ROOT }
					573 = { is_core_of = ROOT }
					574 = { is_core_of = ROOT }
					575 = { is_core_of = ROOT }
					576 = { is_core_of = ROOT }
					577 = { is_core_of = ROOT }
					578 = { is_core_of = ROOT }
					579 = { is_core_of = ROOT }
					580 = { is_core_of = ROOT }
					582 = { is_core_of = ROOT }
					583 = { is_core_of = ROOT }
					588 = { is_core_of = ROOT }
					590 = { is_core_of = ROOT }
					637 = { is_core_of = ROOT }
					644 = { is_core_of = ROOT }
					653 = { is_core_of = ROOT }
					654 = { is_core_of = ROOT }
					655 = { is_core_of = ROOT }
					657 = { is_core_of = ROOT }
					822 = { is_core_of = ROOT }
					824 = { is_core_of = ROOT }
					874 = { is_core_of = ROOT }
					876 = { is_core_of = ROOT }
					877 = { is_core_of = ROOT }
					878 = { is_core_of = ROOT }
					FROM = {
						is_owned_and_controlled_by = ROOT
						is_core_of = ROOT
						is_capital = YES
						NOT = { has_global_flag = form_siberian_republic_flag }
					}
				}
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					AND = {
						OR = {
							state = 40
							state = 329
							state = 403
							state = 408
							state = 409
							state = 516
							state = 560
							state = 561
							state = 562
							state = 563
							state = 564
							state = 565
							state = 566
							state = 567
							state = 568
							state = 569
							state = 570
							state = 571
							state = 572
							state = 573
							state = 574
							state = 575
							state = 576
							state = 577
							state = 578
							state = 579
							state = 580
							state = 582
							state = 583
							state = 588
							state = 590
							state = 637
							state = 644
							state = 653
							state = 654
							state = 655
							state = 657
							state = 822
							state = 824
							state = 874
							state = 876
							state = 877
							state = 878
						}
						NOT = { is_core_of = ROOT }
					}
					OR = {
						AND = {
							is_owned_and_controlled_by = ROOT
							is_core_of = ROOT
							is_capital = YES
						}
					}
				}
			}
		}
		
		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_in_siberian_republic_cost

		complete_effect = {
			FROM = {
				if = {
					limit = {
						is_claimed_by = ROOT
					}
					remove_claim_by = ROOT
				}
				if = {
					limit = {
						is_core_of = SOV
					}
					remove_core_of = SOV
					add_claim_by = SOV
				}
				if = {
					limit = {
						NOT = {
							is_core_of = ROOT
						}
					}
					add_core_of = ROOT
				}
				if = {
					limit = {
						NOT = {
							is_owned_by = ROOT
						}
					}
					set_state_owner_to = ROOT
				}
			}
			IF = {
				limit = {
					FROM = {
						is_core_of = ROOT
						is_capital = YES
					}
				}
				ROOT = {
					IF = {
						limit = {
							NOT = {
								has_cosmetic_tag = MAN_restored
							}
						}
						set_cosmetic_tag = siberia_unified
						hidden_effect = { 
							news_event = { id = nsb_news.303 hours = 8 }
							set_global_flag = form_siberian_republic_flag
						}
					}
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 200
				FROM = {
					has_active_resistance = no
					NOT = {
						compliance < 100
					}
				}
			}
		}
	}
	
	take_the_central_steppe = { 

		icon = generic_form_nation

		available = {
			is_subject = no
			FROM = {
				is_controlled_by = ROOT
			}
			set_temp_variable = { v_integration_in_siberian_republic_cost = FROM.state_population_k }
			divide_temp_variable = { v_integration_in_siberian_republic_cost = FROM.compliance }
			add_to_temp_variable = { v_integration_in_siberian_republic_cost = FROM.resistance }
			If = {
				limit = {
					FROM = {
						is_claimed_by = ROOT
					}
				}
				divide_temp_variable = { v_integration_in_siberian_republic_cost = 2 }
			}
		}

		visible = {
			OR = {
				original_tag = YAK # Yakutia
				original_tag = FER # Far Eastern Republic
				original_tag = CKK # Chukotka
				original_tag = VLA # Vladivostok
				original_tag = BYA # Buryatia
				original_tag = TAY # Taymyria
				original_tag = ALT # Altai
				original_tag = YAM # Yamalia
				original_tag = OVO # Ostyak-Vogulia
				original_tag = TAN # Tannu Tuva
				AND = {
					original_tag = MAN
					has_completed_focus = MAN_civic_nationalism
				}
				original_tag = MON
				original_tag = MEN
			}
			FROM = {
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					region = 266
					region = 152
				}
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_in_siberian_republic_cost

		complete_effect = {
			FROM = {
				if = {
					limit = { is_core_of = SOV }
					remove_core_of = SOV
					add_claim_by = SOV
				}
				if = {
					limit = { is_core_of = CHI }
					remove_core_of = CHI
					add_claim_by = CHI
				}
				if = {
					limit = { is_core_of = PRC }
					remove_core_of = PRC
					add_claim_by = PRC
				}
				if = {
					limit = { NOT = { ROOT = { original_tag = MAN } } is_core_of = MAN }
					remove_core_of = MAN
					add_claim_by = MAN
				}
				if = {
					limit = { is_core_of = GXC }
					remove_core_of = GXC
					add_claim_by = GXC
				}
				if = {
					limit = { is_core_of = YUN }
					remove_core_of = YUN
					add_claim_by = YUN
				}
				if = {
					limit = { is_core_of = SHX }
					remove_core_of = SHX
					add_claim_by = SHX
				}
				if = {
					limit = { is_core_of = XSM }
					remove_core_of = XSM
					add_claim_by = XSM
				}
				if = {
					limit = { NOT = { ROOT = { original_tag = SIK } } is_core_of = SIK }
					remove_core_of = SIK
					add_claim_by = SIK
				}
				add_core_of = ROOT
			}
			IF = {
				limit = {
					TAN = {
						all_core_state = {
							OR = {
								region = 266
								region = 152
							}
							is_core_of = ROOT
						}
					}
					MON = {
						all_core_state = {
							OR = {
								region = 266
								region = 152
							}
							is_core_of = ROOT
						}
					}
				}
				IF = {
					limit = { NOT = { has_idea = soldiers_of_the_steppe } }
					add_ideas = soldiers_of_the_steppe
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 200
				FROM = {
					has_active_resistance = no
					NOT = {
						compliance < 100
					}
				}
			}
		}
	}
	
	take_back_inner_mongolia = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = TAN # Tannu Tuva
				original_tag = MON
				original_tag = MEN
			}
		}

		available = {
			is_subject = no
			FROM = {
				is_controlled_by = ROOT
			}
			set_temp_variable = { v_integration_in_siberian_republic_cost = FROM.state_population_k }
			divide_temp_variable = { v_integration_in_siberian_republic_cost = FROM.compliance }
			add_to_temp_variable = { v_integration_in_siberian_republic_cost = FROM.resistance }
			If = {
				limit = {
					FROM = {
						is_claimed_by = ROOT
					}
				}
				divide_temp_variable = { v_integration_in_siberian_republic_cost = 2 }
			}
		}

		visible = {
			OR = {
				original_tag = TAN # Tannu Tuva
				original_tag = MON
				original_tag = MEN
			}
			FROM = {
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					state = 761
					state = 612
					state = 611
					state = 621
					state = 746
					state = 616
					state = 756
					state = 755
				}
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_in_siberian_republic_cost

		complete_effect = {
			FROM = {
				if = {
					limit = { is_core_of = SOV }
					remove_core_of = SOV
					add_claim_by = SOV
				}
				if = {
					limit = { is_core_of = CHI }
					remove_core_of = CHI
					add_claim_by = CHI
				}
				if = {
					limit = { is_core_of = PRC }
					remove_core_of = PRC
					add_claim_by = PRC
				}
				if = {
					limit = { NOT = { ROOT = { original_tag = MAN } } is_core_of = MAN }
					remove_core_of = MAN
					add_claim_by = MAN
				}
				if = {
					limit = { is_core_of = GXC }
					remove_core_of = GXC
					add_claim_by = GXC
				}
				if = {
					limit = { is_core_of = YUN }
					remove_core_of = YUN
					add_claim_by = YUN
				}
				if = {
					limit = { is_core_of = SHX }
					remove_core_of = SHX
					add_claim_by = SHX
				}
				if = {
					limit = { is_core_of = XSM }
					remove_core_of = XSM
					add_claim_by = XSM
				}
				if = {
					limit = { NOT = { ROOT = { original_tag = SIK } } is_core_of = SIK }
					remove_core_of = SIK
					add_claim_by = SIK
				}
				add_core_of = ROOT
			}
			IF = {
				limit = {
					all_state = {
						OR = {
							state = 761
							state = 612
							state = 611
							state = 621
							state = 746
							state = 616
							state = 756
							state = 755
						}
						is_core_of = ROOT
					}
				}
				IF = {
					limit = { NOT = { has_idea = soldiers_of_the_steppe } }
					add_ideas = soldiers_of_the_steppe
				}
			}
		}

		ai_will_do = {
			factor = 1
			modifier = {
				factor = 200
				FROM = {
					has_active_resistance = no
					NOT = {
						compliance < 100
					}
				}
			}
		}
	}

	take_manchuria = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = YAK # Yakutia
				original_tag = FER # Far Eastern Republic
				original_tag = CKK # Chukotka
				original_tag = VLA # Vladivostok
				original_tag = BYA # Buryatia
				original_tag = TAY # Taymyria
				original_tag = ALT # Altai
				original_tag = YAM # Yamalia
				original_tag = OVO # Ostyak-Vogulia
				original_tag = TAN # Tannu Tuva
				original_tag = MON
				original_tag = MEN
			}
		}

		available = {
			is_subject = no
			FROM = {
				is_controlled_by = ROOT
			}
			set_temp_variable = { v_integration_in_siberian_republic_cost = FROM.state_population_k }
			divide_temp_variable = { v_integration_in_siberian_republic_cost = FROM.compliance }
			add_to_temp_variable = { v_integration_in_siberian_republic_cost = FROM.resistance }
			If = {
				limit = {
					FROM = {
						is_claimed_by = ROOT
					}
				}
				divide_temp_variable = { v_integration_in_siberian_republic_cost = 2 }
			}
		}

		visible = {
			OR = {
				original_tag = YAK # Yakutia
				original_tag = FER # Far Eastern Republic
				original_tag = CKK # Chukotka
				original_tag = VLA # Vladivostok
				original_tag = BYA # Buryatia
				original_tag = TAY # Taymyria
				original_tag = ALT # Altai
				original_tag = YAM # Yamalia
				original_tag = OVO # Ostyak-Vogulia
				original_tag = TAN # Tannu Tuva
				original_tag = MON
				original_tag = MEN
			}
			FROM = {
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		target_trigger = {
			FROM = {
				is_core_of = MAN
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_in_siberian_republic_cost

		complete_effect = {
			FROM = {
				if = {
					limit = { is_core_of = SOV }
					remove_core_of = SOV
					add_claim_by = SOV
				}
				if = {
					limit = { is_core_of = CHI }
					remove_core_of = CHI
					add_claim_by = CHI
				}
				if = {
					limit = { is_core_of = PRC }
					remove_core_of = PRC
					add_claim_by = PRC
				}
				if = {
					limit = { is_core_of = GXC }
					remove_core_of = GXC
					add_claim_by = GXC
				}
				if = {
					limit = { is_core_of = YUN }
					remove_core_of = YUN
					add_claim_by = YUN
				}
				if = {
					limit = { is_core_of = SHX }
					remove_core_of = SHX
					add_claim_by = SHX
				}
				if = {
					limit = { is_core_of = XSM }
					remove_core_of = XSM
					add_claim_by = XSM
				}
				if = {
					limit = { NOT = { ROOT = { original_tag = SIK } } is_core_of = SIK }
					remove_core_of = SIK
					add_claim_by = SIK
				}
				add_core_of = ROOT
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	liberate_the_ainu = { 

		icon = generic_form_nation

		available = {
			is_subject = no
			FROM = {
				is_controlled_by = ROOT
			}
			set_temp_variable = { v_integration_in_siberian_republic_cost = FROM.state_population_k }
			divide_temp_variable = { v_integration_in_siberian_republic_cost = FROM.compliance }
			add_to_temp_variable = { v_integration_in_siberian_republic_cost = FROM.resistance }
			If = {
				limit = {
					FROM = {
						is_claimed_by = ROOT
					}
				}
				divide_temp_variable = { v_integration_in_siberian_republic_cost = 2 }
			}
		}

		visible = {
			OR = {
				original_tag = YAK # Yakutia
				original_tag = FER # Far Eastern Republic
				original_tag = CKK # Chukotka
				original_tag = VLA # Vladivostok
				original_tag = BYA # Buryatia
				original_tag = TAY # Taymyria
				original_tag = ALT # Altai
				original_tag = YAM # Yamalia
				original_tag = OVO # Ostyak-Vogulia
				original_tag = TAN # Tannu Tuva
				AND = {
					original_tag = MAN
					has_completed_focus = MAN_civic_nationalism
				}
				original_tag = MON
				original_tag = MEN
			}
			FROM = {
				is_controlled_by = ROOT
				NOT = { is_core_of = ROOT }
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					state = 536
					state = 537
					state = 555
				}
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_in_siberian_republic_cost

		complete_effect = {
			FROM = {
				if = {
					limit = { is_core_of = SOV }
					remove_core_of = SOV
					add_claim_by = SOV
				}
				if = {
					limit = { is_core_of = JAP }
					remove_core_of = JAP
					add_claim_by = JAP
				}
				add_core_of = ROOT
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}
form_take_back_siberia_category = {
	
	take_back_siberian = { 

		icon = generic_form_nation

		allowed = {
			original_tag = SOV
		}

		available = {
			is_subject = no
			any_controlled_state = {
				OR = {
					state = 40
					state = 329
					state = 403
					state = 408
					state = 409
					state = 516
					state = 560
					state = 561
					state = 562
					state = 563
					state = 564
					state = 565
					state = 566
					state = 567
					state = 568
					state = 569
					state = 570
					state = 571
					state = 572
					state = 573
					state = 574
					state = 575
					state = 576
					state = 577
					state = 578
					state = 579
					state = 580
					state = 582
					state = 637
					state = 644
					state = 653
					state = 654
					state = 655
					state = 657
					state = 822
					state = 824
					state = 874
					state = 876
					state = 877
					state = 878
				}
				has_active_resistance = no
				NOT = {
					compliance < 50
				}
			}
		}

		visible = {
			original_tag = SOV
			OR = {
				any_controlled_state = {
					OR = {
						state = 40
						state = 329
						state = 403
						state = 408
						state = 409
						state = 516
						state = 560
						state = 561
						state = 562
						state = 563
						state = 564
						state = 565
						state = 566
						state = 567
						state = 568
						state = 569
						state = 570
						state = 571
						state = 572
						state = 573
						state = 574
						state = 575
						state = 576
						state = 577
						state = 578
						state = 579
						state = 580
						state = 582
						state = 637
						state = 644
						state = 653
						state = 654
						state = 655
						state = 657
						state = 822
						state = 824
						state = 874
						state = 876
						state = 877
						state = 878
					}
					NOT = { is_core_of = ROOT }
					is_claimed_by = ROOT
				}
			}
		}

		complete_effect = {
			every_controlled_state = {
				limit = {
					OR = {
						state = 40
						state = 329
						state = 403
						state = 408
						state = 409
						state = 516
						state = 560
						state = 561
						state = 562
						state = 563
						state = 564
						state = 565
						state = 566
						state = 567
						state = 568
						state = 569
						state = 570
						state = 571
						state = 572
						state = 573
						state = 574
						state = 575
						state = 576
						state = 577
						state = 578
						state = 579
						state = 580
						state = 582
						state = 637
						state = 644
						state = 653
						state = 654
						state = 655
						state = 657
						state = 822
						state = 824
						state = 874
						state = 876
						state = 877
						state = 878
					}
					NOT = { is_core_of = ROOT }
					is_claimed_by = ROOT
					has_active_resistance = no
					NOT = {
						compliance < 50
					}
				}
				add_core_of = ROOT
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
	
}

form_idel_ural_category = {
	
	form_idel_uralic_republic = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = MEL # Mari EL
				original_tag = CHU # Chuvashia
				original_tag = TAT # Tatarstan
				original_tag = UDM # Udmurtia
				original_tag = BSK # Bashkortostan
			}
		}

		available = {
			controls_state = 833 # Mari El
			controls_state = 256 # Chuvashia
			controls_state = 249 # Kazan
			controls_state = 399 # Udmurtia
			controls_state = 651 # Ufa
		}

		visible = {
			OR = {
				original_tag = MEL # Mari EL
				original_tag = CHU # Chuvashia
				original_tag = TAT # Tatarstan
				original_tag = UDM # Udmurtia
				original_tag = BSK # Bashkortostan
			}
			NOT = { has_global_flag = form_idel_ural_flag }

				has_dlc = "No Step Back"
		}

		complete_effect = {
			set_cosmetic_tag = idel_ural
			
			# Kazan
			249 = { add_core_of = ROOT }
			
			# Mari El
			833 = { add_core_of = ROOT }
			
			# Chuvashia
			256 = { add_core_of = ROOT }
			
			# Udmurtia
			399 = { add_core_of = ROOT }
			
			# Ufa
			651 = { add_core_of = ROOT }
			
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				news_event = { id = nsb_news.304 hours = 8 }
				
				set_global_flag = form_idel_ural_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

form_ethiopian_empire_category  = {
	
	form_empire_of_axum = { 

		icon = generic_form_nation

		allowed = {
			original_tag = ETH # Ethiopia # Maybe add Eritrea as well? 
		}

		available = {
			controls_all_ethiopian_core_states = yes 
			controls_state = 550 # Eritrea 
			controls_state = 293 # Yemen 
		}

		visible = {
			has_completed_focus = ETH_restore_the_empire_of_axum
			NOT = { has_global_flag = form_axum_flag }
		}

		complete_effect = {
			set_cosmetic_tag = empire_of_axum		
			659 = { add_core_of = ROOT }
			550 = { add_core_of = ROOT }
			293 = { add_core_of = ROOT }
			906 = { add_core_of = ROOT }
			268 = { add_core_of = ROOT }
			883 = { add_core_of = ROOT }
			551 = { add_core_of = ROOT }
			886 = { add_core_of = ROOT }
		
			hidden_effect = { 
				#TODO_TA make news event 
				# news_event = { id = nsb_news.304 hours = 8 }
				
				set_global_flag = form_axum_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ETH_move_capital_to_axum = { 

		icon = generic_form_nation

		allowed = {
			original_tag = ETH # Ethiopia 
		}

		available = {
			controls_all_ethiopian_core_states = yes 
			842 = { 
				is_owned_by = ROOT 
				is_fully_controlled_by = ROOT 
			}
			NOT = { has_country_flag = ETH_has_moved_capital_flag }
		}
		cost = 50 

		visible = {
			has_cosmetic_tag = empire_of_axum
		}
		fire_only_once = yes 

		complete_effect = {
			set_capital = {
				state = 842 
				remember_old_capital = no
			}
			842 = {
				add_victory_points = {
					province = 13237
					value = 5
				}
				ETH_upgrade_state_category = yes 
			}
			custom_effect_tooltip = ETH_prevents_further_capital_moves_tt
			set_country_flag = ETH_has_moved_capital_flag
		}

		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	form_empire_of_solomon = { 

		icon = generic_form_nation

		allowed = {
			original_tag = ETH # Ethiopia 
		}

		available = {
			controls_all_ethiopian_core_states = yes 
			controls_state = 454 # Palestine 
			controls_state = 453 # Siniai
			controls_state = 446 # Suez
		}

		visible = {
			has_completed_focus = ETH_the_one_true_heir_of_solomon
			NOT = { has_global_flag = form_empire_of_solomon_flag }
		}

		complete_effect = {
			set_cosmetic_tag = empire_of_solomon		
			453 = { add_core_of = ROOT }
			446 = { add_core_of = ROOT }
			907 = { add_core_of = ROOT }
			447 = { add_core_of = ROOT }
			457 = { add_core_of = ROOT }
			456 = { add_core_of = ROOT }
		
			hidden_effect = { 
				news_event = {
					id = bba_news.5
					hours = 8
				}
				
				set_global_flag = form_empire_of_solomon_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	ETH_move_capital_to_jerusalem = { 

		icon = generic_form_nation

		allowed = {
			original_tag = ETH # Ethiopia 
		}

		available = {
			controls_all_ethiopian_core_states = yes 
			454 = { 
				is_owned_by = ROOT 
				is_fully_controlled_by = ROOT 
			}
			NOT = { has_country_flag = ETH_has_moved_capital_flag }
		}
		cost = 50 

		visible = {
			454 = { is_owned_and_controlled_by = ROOT }
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = { has_cosmetic_tag = gojjam }
			NOT = { has_cosmetic_tag = jimma }
		}
		fire_only_once = yes 

		complete_effect = {
			set_capital = {
				state = 454 
				remember_old_capital = no
			}
			454 = {
				add_victory_points = {
					province = 1086
					value = 9
				}
				ETH_upgrade_state_category = yes 
				add_core_of = ROOT 
			}
			custom_effect_tooltip = ETH_prevents_further_capital_moves_tt
			set_country_flag = ETH_has_moved_capital_flag
		
			hidden_effect = { 
				#TODO_TA make news event 
				# news_event = { id = nsb_news.304 hours = 8 }
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	form_empire_of_zion = { 

		icon = generic_form_nation

		allowed = {
			original_tag = ETH # Ethiopia 
		}

		available = {
			controls_all_ethiopian_core_states = yes 
			controls_state = 689
		}

		visible = {
			has_completed_focus = ETH_jah
			NOT = { has_global_flag = form_empire_of_zion_flag }
		}

		complete_effect = {
			set_cosmetic_tag = empire_of_zion
			custom_effect_tooltip = create_empire_of_zion_tt	
			hidden_effect = { 
				every_state = {
					limit = {
						OR = {
							region = 170
							region = 53
						}
						is_controlled_by_ROOT_or_subject = yes 
					}
					remove_claim_by = ROOT 
					add_core_of = ROOT 
				}
				#TODO_TA make news event 
				# news_event = { id = nsb_news.304 hours = 8 }
				
				set_global_flag = form_empire_of_zion_flag
				
			}
			news_event = {
				id = bba_news.6
				hours = 10
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}


form_east_africa_category = {
	
	form_east_africa = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
		}

		available = {
			controls_state = 546 # Tanganyika
			controls_state = 547 # Nairobi
			controls_state = 905 # Mombasa
			controls_state = 904 # Nyanza-Rift Velley
			controls_state = 548 # Uganda
		}

		visible = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
			NOT = { has_global_flag = form_east_africa_flag }

				# has_dlc = "No Step Back"
		}

		complete_effect = {
			set_cosmetic_tag = east_africa
			
			# Tanganyika
			546 = { add_core_of = ROOT }
			
			# Nairobi
			547 = { add_core_of = ROOT }

			# Nyanza-Rift Valley
			904 = { add_core_of = ROOT }

			# Mombasa
			905 = { add_core_of = ROOT }
			
			# Uganda
			548 = { add_core_of = ROOT }

			# Rwanda
			768 = { add_claim_by = ROOT }
				
			# Burundi
			769 = { add_claim_by = ROOT }

			# Jubaland
			844 = { add_claim_by = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				news_event = { id = bba_africa_news.1 hours = 8 }
				
				set_global_flag = form_east_africa_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	integrate_ruanda_urundi = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
		}

		available = {
			controls_state = 768 # Rwanda
			controls_state = 769 # Burundi
		}

		visible = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
			
			has_global_flag = form_east_africa_flag
			NOT = { has_global_flag = ruanda_urundi_integrated_flag }

				# has_dlc = "No Step Back"
		}

		complete_effect = {
		
				# Rwanda
				768 = { add_core_of = ROOT }
				
				# Burundi
				769 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = ruanda_urundi_integrated_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	dominate_malawi = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
		}

		available = {
			controls_state = 770 # Malawi
			controls_state = 897 # Zambezia-Mocambique 
		}

		visible = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
			
			has_global_flag = form_east_africa_flag
			NOT = { has_global_flag = malawi_dominated_flag }

				# has_dlc = "No Step Back"
		}

		complete_effect = {
		
				# Malawi
				770 = { add_core_of = ROOT }
				
				# Zambezia-Mocambique 
				897 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = malawi_dominated_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	liberate_sidamo = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
		}

		available = {
			controls_state = 837 # Sidamo
		}

		visible = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
			
			has_global_flag = form_east_africa_flag
			NOT = { has_global_flag = sidamo_liberated_flag }

				# has_dlc = "No Step Back"
		}

		complete_effect = {
		
				# Sidamo
				837 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = sidamo_liberated_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	unite_the_somalis = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
		}

		available = {
			controls_state = 844 # Jubaland
			controls_state = 559 # Somaliland
			controls_state = 269 # British Somaliland
			controls_state = 836 # Bale
			controls_state = 835 # Hararghe
			controls_state = 268 # Djibouti
			controls_state = 903 # Garissa
		}

		visible = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
			
			has_global_flag = form_east_africa_flag
			NOT = { has_global_flag = somalis_united_flag }

				# has_dlc = "No Step Back"
		}

		complete_effect = {
		
				# Jubaland
				844 = { add_core_of = ROOT }

				# Garissa
				903 = { add_core_of = ROOT }

				# Somaliland
				559 = { add_core_of = ROOT }

				# British Somaliland
				269 = { add_core_of = ROOT }

				# Bale
				836 = { add_core_of = ROOT }

				# Hararghe
				835 = { add_core_of = ROOT }

				# Djibouti
				268 = { add_core_of = ROOT }

				# Socotra
				906 = { add_claim_by = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = somalis_united_flag
				
			}
		}

		ai_will_do = {
			factor = 200
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}

	conquer_the_comoros = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
		}

		available = {
			controls_state = 708 # Comoro Islands
		}

		visible = {
			OR = {
				original_tag = KEN # Kenya
				original_tag = UGA # Uganda
				original_tag = TZN # Tanzania
				original_tag = RWA # Rwanda
				original_tag = BRD # Burundi
			}
			
			has_global_flag = form_east_africa_flag
			NOT = { has_global_flag = comoros_conquered_flag }

				# has_dlc = "No Step Back"
		}

		complete_effect = {
		
				# Comoro Islands
				708 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = comoros_conquered_flag
				
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}


form_horn_of_africa_africa_category = {
	
	form_the_horn_of_africa = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
		}

		available = {
			IF = {
				limit = {
					original_tag = ETH
				}
				has_completed_focus = ETH_develop_the_horn_of_africa
				controls_state = 842 # Tigray
				controls_state = 843 # Wello
				controls_state = 908 # Afar
				controls_state = 841 # Begemder
				controls_state = 840 # Gojjam
				controls_state = 839 # Welega
				controls_state = 838 # Illubabor-Kaffa
				controls_state = 837 # Sidamo
				controls_state = 271 # Shewa
				controls_state = 836 # Bale
				controls_state = 835 # Hararghe
				controls_state = 550 # Eritrea
				controls_state = 268 # French Somaliland
				controls_state = 269 # British Somaliland
				controls_state = 559 # Somaliland
				controls_state = 844 # Jubaland
			}
			ELSE_IF = {
				limit = {
					OR = {
						original_tag = AFA
						original_tag = ORO
						original_tag = QEM
						original_tag = TIG
						original_tag = BEG
						original_tag = HAR
						original_tag = SID
						original_tag = GBA
					}
				}
				has_completed_focus = HOA_proclaim_east-african_hegemony
				controls_state = 842 # Tigray
				controls_state = 843 # Wello
				controls_state = 908 # Afar
				controls_state = 841 # Begemder
				controls_state = 840 # Gojjam
				controls_state = 839 # Welega
				controls_state = 838 # Illubabor-Kaffa
				controls_state = 837 # Sidamo
				controls_state = 271 # Shewa
				controls_state = 836 # Bale
				controls_state = 835 # Hararghe
				controls_state = 550 # Eritrea
				controls_state = 268 # French Somaliland
				controls_state = 269 # British Somaliland
				controls_state = 559 # Somaliland
				controls_state = 844 # Jubaland
			}
			ELSE = {
				controls_state = 842 # Tigray
				controls_state = 843 # Wello
				controls_state = 908 # Afar
				controls_state = 841 # Begemder
				controls_state = 840 # Gojjam
				controls_state = 839 # Welega
				controls_state = 838 # Illubabor-Kaffa
				controls_state = 837 # Sidamo
				controls_state = 271 # Shewa
				controls_state = 836 # Bale
				controls_state = 835 # Hararghe
				controls_state = 550 # Eritrea
				controls_state = 268 # French Somaliland
				controls_state = 269 # British Somaliland
				controls_state = 559 # Somaliland
				controls_state = 844 # Jubaland
			}
		}

		visible = {
			IF = {
				limit = {
					original_tag = ETH
				}
				has_completed_focus = ETH_develop_the_horn_of_africa
			}
			ELSE_IF = {
				limit = {
					OR = {
						original_tag = AFA
						original_tag = ORO
						original_tag = QEM
						original_tag = TIG
						original_tag = BEG
						original_tag = HAR
						original_tag = SID
						original_tag = GBA
					}
				}
				has_completed_focus = HOA_proclaim_east-african_hegemony
			}
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
			NOT = { has_global_flag = form_horn_of_africa_flag }

			has_dlc = "By Blood Alone"
		}

		complete_effect = {
			set_cosmetic_tag = horn_of_africa
			
			# Tigray
			842 = { add_core_of = ROOT }
			
			# Wello
			843 = { add_core_of = ROOT }

			# Afar
			908 = { add_core_of = ROOT }
			
			# Begemder
			841 = { add_core_of = ROOT }
			
			# Gojjam
			840 = { add_core_of = ROOT }
			
			# Welega
			839 = { add_core_of = ROOT }

			# Illubabor-Kaffa
			838 = { add_core_of = ROOT }

			# Sidamo
			837 = { add_core_of = ROOT }

			# Shewa
			271 = { add_core_of = ROOT }

			# Bale
			836 = { add_core_of = ROOT }

			# Hararghe
			835 = { add_core_of = ROOT }

			# Eritrea
			550 = { add_core_of = ROOT }

			# French Somaliland
			268 = { add_core_of = ROOT }

			# British Somaliland
			269 = { add_core_of = ROOT }

			# Somaliland
			559 = { add_core_of = ROOT }

			# Jubaland
			844 = { add_core_of = ROOT }

			# Socotra
			906 = { add_claim_by = ROOT }
			
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				news_event = { id = bba_africa_news.2 hours = 8 }
				
				set_global_flag = form_horn_of_africa_flag
				
			}
		}

		ai_will_do = {
			factor = 200
		}
	}

	conquer_socotra = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
		}

		available = {
			controls_state = 906 # Socotra
		}

		visible = {
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
			
			has_global_flag = form_horn_of_africa_flag
			NOT = { has_global_flag = socotra_conquered_flag }

				has_dlc = "By Blood Alone"
		}

		complete_effect = {
		
				# Socotra
				906 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = socotra_conquered_flag
				
			}
		}

		ai_will_do = {
			factor = 200
		}
	}


	integrate_the_south = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
		}

		available = {
			controls_state = 903 # Garissa
			controls_state = 547 # Nairobi
			controls_state = 905 # Mombasa
			controls_state = 904 # Nyanza-Rift Valley
			controls_state = 548 # Uganda
		}

		visible = {
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
			
			has_global_flag = form_horn_of_africa_flag
			NOT = { has_global_flag = integrate_the_south_flag }

			has_dlc = "By Blood Alone"
		}

		complete_effect = {
		
				# Garissa
				903 = { add_core_of = ROOT }

				# Nairobi
				547 = { add_core_of = ROOT }

				# Mombasa
				905 = { add_core_of = ROOT }

				# Nyanza-Rift Valley
				904 = { add_core_of = ROOT }

				# Uganda
				548 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = integrate_the_south_flag
				
			}
		}

		ai_will_do = {
			factor = 200
		}
	}


	the_upper_nile = { 

		icon = generic_form_nation

		allowed = {
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
		}

		available = {
			controls_state = 886 # Blue Nile
			controls_state = 884 # Upper Nile
		}

		visible = {
			OR = {
				original_tag = ETH # Ethiopia
				original_tag = ERI # Eritrea
				original_tag = SOM # Somalia
				original_tag = TIG # Tigray
				original_tag = QEM # Qemant State
				original_tag = AFA # Afar
				original_tag = HAR # Harar
				original_tag = ORO # Oromia
				original_tag = SID # Sidamo
				original_tag = GBA # Gambela
				original_tag = BEG # Benishangul-Gumuz State
			}
			
			has_global_flag = form_horn_of_africa_flag
			NOT = { has_global_flag = the_upper_nile_flag }

			has_dlc = "By Blood Alone"
		}

		complete_effect = {
		
				# Blue Nile
				886 = { add_core_of = ROOT }

				# Upper Nile
				884 = { add_core_of = ROOT }
			
			#add_ideas = soldiers_of_the_steppe
			
			hidden_effect = { 
				
				set_global_flag = the_upper_nile_flag
				
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}

form_panslavic_union_category = {

	form_integrate_slavic = {
		icon = generic_form_nation

		available = {
			is_subject = no
			FROM = {
				is_controlled_by = ROOT
			}
			set_temp_variable = { v_integration_in_panslavic_union_cost = FROM.state_population_k }
			set_temp_variable = { v_integration_in_panslavic_union_days = FROM.state_population_k }
			If = {
				limit = {
					FROM = {
						has_resistance = yes
					}
				}
				If = {
					limit = {
						FROM = {
							compliance > 0
						}
					}
					divide_temp_variable = { v_integration_in_panslavic_union_cost = FROM.compliance }
					add_to_temp_variable = { v_integration_in_panslavic_union_cost = FROM.resistance }
					divide_temp_variable = { v_integration_in_panslavic_union_days = FROM.compliance }
					add_to_temp_variable = { v_integration_in_panslavic_union_days = FROM.resistance }
				}
			}
			else = {
				divide_temp_variable = { v_integration_in_panslavic_union_cost = 100 }
				divide_temp_variable = { v_integration_in_panslavic_union_days = 100 }
			}
			If = {
				limit = {
					FROM = {
						is_claimed_by = EUR
					}
				}
				divide_temp_variable = { v_integration_in_panslavic_union_cost = 2 }
				divide_temp_variable = { v_integration_in_panslavic_union_days = 2 }
			}
			IF = {
				limit = {
					FROM = {
						is_core_of = ROOT
						is_capital = yes
					}
				}
				set_temp_variable = { v_integration_in_panslavic_union_cost = 0 }
				set_temp_variable = { v_integration_in_panslavic_union_days = 0 }
			}
		}

		visible = {
			ROOT = {
				OR = {
					OR = {
						AND = {
							original_tag = SOV
							has_completed_focus = SOV_panslavic_nationalism
						}
						original_tag = POL
						original_tag = UKR
						original_tag = CZE
						original_tag = YUG
						original_tag = BUL
						original_tag = BLR
						original_tag = SLO
						original_tag = SIL
						original_tag = SER
						original_tag = CRO
						original_tag = KSH
						original_tag = BOS
						original_tag = SLV
						original_tag = MAC
						original_tag = MNT
						original_tag = HRZ
					}
				}
			}
			FROM = {
				is_controlled_by = ROOT
				OR = {
					AND = {
						OR = {
							is_core_of = SOV
							is_core_of = POL
							is_core_of = UKR
							is_core_of = CZE
							is_core_of = YUG
							is_core_of = BUL
							is_core_of = BLR
							is_core_of = SLO
							is_core_of = SIL
							is_core_of = SER
							is_core_of = CRO
							is_core_of = KSH
							is_core_of = BOS
							is_core_of = SLV
							is_core_of = MAC
							is_core_of = MNT
							is_core_of = HRZ
						}
						NOT = { is_core_of = ROOT }
					}
					AND = {
						POL = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						UKR = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						CZE = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						YUG = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						BUL = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						BLR = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						SLO = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						SIL = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						SER = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						CRO = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						KSH = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						BOS = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						SLV = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						MAC = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						MNT = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						HRZ = {
							all_core_state = {
								is_core_of = ROOT
							}
						}
						FROM = {
							is_capital = YES
							is_core_of = ROOT
						}
						NOT = { has_global_flag = form_pan_slavic_union }
					}
				}
			}
		}

		target_trigger = {
			FROM = {
				OR = {
					AND = {
						OR = {
							is_core_of = SOV
							is_core_of = POL
							is_core_of = UKR
							is_core_of = CZE
							is_core_of = YUG
							is_core_of = BUL
							is_core_of = BLR
							is_core_of = SLO
							is_core_of = SIL
							is_core_of = SER
							is_core_of = CRO
							is_core_of = KSH
							is_core_of = BOS
							is_core_of = SLV
							is_core_of = MAC
							is_core_of = MNT
							is_core_of = HRZ
						}
						is_on_continent = europe
						NOT = { is_core_of = ROOT }
					}
					AND = {
						is_capital = YES
						is_core_of = ROOT
					}
				}
			}
		}
		
		cancel_trigger = {
			FROM = { 
				is_core_of = ROOT
				NOT = { is_owned_and_controlled_by = ROOT }
			}
		}

		cancel_effect = {
			FROM = {
				add_claim_by = ROOT
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_in_panslavic_union_cost
		days_remove = v_integration_in_panslavic_union_days

		remove_effect = {
			FROM = {
				if = {
					limit = {
						is_claimed_by = ROOT
					}
					remove_claim_by = ROOT
				}
				if = {
					limit = {
						NOT = {
							is_core_of = ROOT
						}
					}
					add_core_of = ROOT
				}
				if = {
					limit = {
						NOT = {
							is_owned_by = ROOT
						}
					}
					set_state_owner_to = ROOT
				}
			}
			IF = {
				limit = {
					FROM = {
						is_core_of = ROOT
						is_capital = YES
					}
				}
				every_character = {
					limit = {
						OR = {
							has_nationality = SOV
							has_nationality = POL
							has_nationality = UKR
							has_nationality = CZE
							has_nationality = YUG
							has_nationality = BUL
							has_nationality = BLR
							has_nationality = SLO
							has_nationality = SIL
							has_nationality = SER
							has_nationality = CRO
							has_nationality = KSH
							has_nationality = BOS
							has_nationality = SLV
							has_nationality = MAC
							has_nationality = MNT
							has_nationality = HRZ
						}
					}
					set_nationality = ROOT
				}
				ROOT = {
					set_cosmetic_tag = SOV_PANSLAVIC
					hidden_effect = { 
						news_event = { id = nsb_news.405 hours = 12 }
						set_global_flag = form_pan_slavic_union
					}
				}
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 200
				FROM = {
					has_active_resistance = no
					NOT = {
						compliance < 100
					}
				}
			}
		}
	}

}

SOV_world_soviet_socialist_republic_category = {
	
	WSSR_integration_republic = {

		priority = 10

		icon = generic_form_nation

		allowed = {
			AND = {
				original_tag = SOV
			}
		}

		available = {
			FROM = {
				has_autonomy_state = autonomy_collaboration_government
				all_core_state = {
					is_owned_and_controlled_by = FROM
				}
			}
			set_temp_variable = { WSSR_cost = 0 }
			
			set_temp_variable = { temp_target_resources = 0 }
			add_to_temp_variable = { temp_target_resources = FROM.resource_produced@aluminium }
			add_to_temp_variable = { temp_target_resources = FROM.resource_produced@chromium }
			add_to_temp_variable = { temp_target_resources = FROM.resource_produced@oil }
			add_to_temp_variable = { temp_target_resources = FROM.resource_produced@rubber }
			add_to_temp_variable = { temp_target_resources = FROM.resource_produced@steel }
			add_to_temp_variable = { temp_target_resources = FROM.resource_produced@tungsten }


			set_temp_variable = { temp_sov_potetial = 0 }
			set_temp_variable = { temp_sov_stability = ROOT.stability }
			set_temp_variable = { temp_sov_tech = ROOT.num_researched_technologies }
			set_temp_variable = { temp_sov_research_slots = ROOT.amount_research_slots }
			set_temp_variable = { temp_sov_research_speed = ROOT.modifier@research_speed_factor }
			set_temp_variable = { temp_sov_nukes = ROOT.num_of_nukes }
			set_temp_variable = { temp_sov_army = ROOT.num_battalions }
			set_temp_variable = { temp_sov_manpower = ROOT.max_manpower_k }
			set_temp_variable = { temp_sov_states = ROOT.num_core_states }
			set_temp_variable = { temp_sov_factories = ROOT.num_of_owned_factories }
			set_temp_variable = { temp_sov_resources = 0 }
			add_to_temp_variable = { temp_sov_resources = ROOT.resource_produced@aluminium }
			add_to_temp_variable = { temp_sov_resources = ROOT.resource_produced@chromium }
			add_to_temp_variable = { temp_sov_resources = ROOT.resource_produced@oil }
			add_to_temp_variable = { temp_sov_resources = ROOT.resource_produced@rubber }
			add_to_temp_variable = { temp_sov_resources = ROOT.resource_produced@steel }
			add_to_temp_variable = { temp_sov_resources = ROOT.resource_produced@tungsten }


			if = {
				limit = {
					any_home_area_neighbor_country = {
						original_tag = FROM
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					FROM = {
						has_opinion_modifier = same_ruling_party
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_stability > FROM.stability
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_tech > FROM.num_researched_technologies
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_research_slots > FROM.amount_research_slots
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_research_speed > FROM.modifier@research_speed_factor
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_target_nukes > FROM.num_of_nukes
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_army > FROM.num_battalions
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_manpower > FROM.max_manpower_k
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_states > FROM.num_core_states
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_factories > FROM.num_of_owned_factories
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			if = {
				limit = {
					check_variable = {
						temp_sov_resources > temp_target_resources
					}
				}
				add_to_temp_variable = { temp_sov_potetial = 10 }
			}

			add_to_temp_variable = { WSSR_cost = FROM.max_manpower_k }
			divide_temp_variable = { WSSR_cost = temp_sov_potetial }
			
			if = {
				limit = {
					check_variable = {
						WSSR_cost < 300
					}
				}
				set_temp_variable = { WSSR_cost = 300 }
			}

		}

		visible = {
			has_government = communism
			OR = {
				has_completed_focus = SOV_father_of_nations
				has_completed_focus = SOV_the_supreme_soviet
				is_debug = yes
			}
		}

		target_array = subjects

		target_trigger = {
			FROM = {
				is_puppet_of = ROOT
			}
		}

		cost = WSSR_cost

		complete_effect = {
			FROM = {
				ROOT = {
					annex_country = {
						target = FROM
					}
				}
				every_character = {
					limit = {
						OR = {
							has_trait = peasant_sympathiser
							has_trait = trait_BUL_ff_sympathizer
							has_trait = trait_GRE_marxist_acolyte
							has_trait = trait_SPR_stalinist_loyalties
							has_trait = JAP_communist_sympathizer
							has_ideology_group = communism
						}
					}
					set_nationality = ROOT
				}
				every_core_state = {
					add_core_of = ROOT
				}
			}
		}
		ai_will_do = {
			factor = 200
		}
	}
	
	WSSR_integration_state = {

		priority = 1

		icon = generic_form_nation

		allowed = {
			original_tag = SOV
		}

		available = {
			FROM = { 
				NOT = { is_core_of = ROOT }
				is_owned_and_controlled_by = ROOT
			}
			set_temp_variable = { v_integration_state_cost = FROM.state_population_k }
			set_temp_variable = { v_integration_state_days = FROM.state_population_k }
			If = {
				limit = {
					FROM = {
						has_resistance = yes
					}
				}
				If = {
					limit = {
						FROM = {
							compliance > 0
						}
					}
					divide_temp_variable = { v_integration_state_cost = FROM.compliance }
					add_to_temp_variable = { v_integration_state_cost = FROM.resistance }
					divide_temp_variable = { v_integration_state_days = FROM.compliance }
					add_to_temp_variable = { v_integration_state_days = FROM.resistance }
				}
			}
			else = {
				divide_temp_variable = { v_integration_state_cost = 100 }
				divide_temp_variable = { v_integration_state_days = 100 }
			}
			If = {
				limit = {
					FROM = {
						is_claimed_by = ROOT
					}
				}
				divide_temp_variable = { v_integration_state_cost = 2 }
				divide_temp_variable = { v_integration_state_days = 2 }
			}

		}

		visible = {
			has_government = communism
			OR = {
				has_completed_focus = SOV_father_of_nations
				has_completed_focus = SOV_the_supreme_soviet
				is_debug = yes
			}
		}

		target_trigger = {
			FROM = {
				NOT = { is_core_of = ROOT }
				is_owned_and_controlled_by = ROOT
			}
		}
		
		cancel_trigger = {
			FROM = { 
				is_core_of = ROOT
				NOT = { is_owned_and_controlled_by = ROOT }
			}
		}

		cancel_effect = {
			FROM = {
				add_claim_by = ROOT
			}
		}

		state_target = yes
		on_map_mode = map_and_decisions_view

		cost = v_integration_state_cost
		days_remove = v_integration_state_days

		remove_effect = {
			FROM = { 
				add_core_of = ROOT 
				If = {
					limit = { is_claimed_by = ROOT }
					remove_claim_by = ROOT
				}
			}
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = 25
				FROM = {
					compliance > 99
					is_claimed_by = ROOT
				}
			}
			modifier = {
				add = 25
				FROM = {
					has_resistance = no
				}
			}
		}
	}

}

